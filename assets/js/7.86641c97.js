(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{205:function(t,a,s){t.exports=s.p+"assets/img/redux_1.47dead50.jpg"},206:function(t,a,s){t.exports=s.p+"assets/img/redux-model.d8ef5489.jpg"},214:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"redux"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#redux","aria-hidden":"true"}},[t._v("#")]),t._v(" Redux")]),t._v(" "),n("blockquote",[n("p",[t._v("Redux is a predictable state container for JavaScript apps")]),t._v(" "),n("p",[t._v("Redux æ˜¯é’ˆå¯¹ JavaScript åº”ç”¨çš„å¯é¢„æµ‹çŠ¶æ€å®¹å™¨")])]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("å¯é¢„æµ‹çš„ï¼ˆPredictableï¼‰")]),t._v("ï¼šå› ä¸º Redux ç”¨äº† Reducer ä¸çº¯å‡½æ•°ï¼ˆPure Functionï¼‰çš„æ¦‚å¿µï¼Œæ¯ä¸ªæ–°çš„ State éƒ½ä¼šç”±æ—§çš„ State åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„ Stateï¼Œè¿™æ ·å¯ä»¥ä½œæ‰€è°“çš„æ—¶å…‰æ—…è¡Œè°ƒè¯•ã€‚")]),t._v(" "),n("li",[n("strong",[t._v("çŠ¶æ€å®¹å™¨ï¼ˆState Containerï¼‰")]),t._v("ï¼šState æ˜¯é›†ä¸­åœ¨å•ä¸€ä¸ªå¯¹è±¡æ ‘çŠ¶ç»“æ„ä¸‹çš„å•ä¸€ Storeï¼ŒStore å³æ˜¯åº”ç”¨ç¨‹åºå‡Œè™šï¼ˆApp Domainï¼‰çš„çŠ¶æ€é›†åˆ")]),t._v(" "),n("li",[n("strong",[t._v("JavaScript åº”ç”¨")]),t._v("ï¼šè¿™è¯´æ˜ Redux å¹¶éå•æŒ‡è®¾è®¡ç»™ React ä½¿ç”¨çš„ï¼Œå®ƒæ˜¯ç‹¬ç«‹çš„ä¸€ä¸ªå‡½æ•°åº“ï¼Œå¯é€šç”¨äºå„ç§åŠŸèƒ½ JavaScript åº”ç”¨")])]),t._v(" "),n("p",[t._v("é€šè¿‡ä¸€å¼ å›¾çœ‹ Redux å¦‚ä½•ç®€åŒ–çŠ¶æ€ç®¡ç†ã€‚")]),t._v(" "),n("p",[n("img",{attrs:{src:s(205),alt:"Redux State"}})]),t._v(" "),n("p",[t._v("Redux æ˜¯ä¸€ä¸ª "),n("strong",[t._v("æ•°æ®ç®¡ç†ä¸­å¿ƒ")]),t._v("ï¼Œæä¾›å¯é¢„æµ‹åŒ–çš„çŠ¶æ€ç®¡ç†ï¼Œå¯ä»¥è®©ä½ æ„å»ºä¸€è‡´åŒ–çš„åº”ç”¨ï¼Œè¿è¡Œäºä¸åŒçš„ç¯å¢ƒï¼ˆå®¢æˆ·ç«¯ã€æœåŠ¡ç«¯ã€åŸç”Ÿåº”ç”¨ï¼‰ï¼Œå¹¶ä¸”æ˜“äºæµ‹è¯•ã€‚")]),t._v(" "),n("p",[t._v("Redux å‚è€ƒäº† Flux çš„æ¶æ„æ€æƒ³ï¼Œå¯¹ Flux ä¸­å†—ä½™éƒ¨åˆ†ï¼ˆå¦‚ Dispatcherï¼‰è¿›è¡Œç®€åŒ–ï¼ŒåŒæ—¶å°† Elm è¯­è¨€ä¸­å‡½æ•°å¼ç¼–ç¨‹çš„æ€æƒ³èå…¥å…¶ä¸­ã€‚")]),t._v(" "),n("p",[n("img",{attrs:{src:s(206),alt:"redux-model"}})]),t._v(" "),n("h2",{attrs:{id:"ä¸‰å¤§åŸåˆ™"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰å¤§åŸåˆ™","aria-hidden":"true"}},[t._v("#")]),t._v(" ä¸‰å¤§åŸåˆ™")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("å•ä¸€æ•°æ®æº")]),t._v("ï¼šæ•´ä¸ªåº”ç”¨åªæœ‰å”¯ä¸€çš„çŠ¶æ€æ ‘ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰ State æœ€ç»ˆç»´æŠ¤åœ¨ä¸€ä¸ªæ ¹çº§ Store ä¸­ã€‚")]),t._v(" "),n("li",[n("strong",[t._v("çŠ¶æ€åªè¯»")]),t._v("ï¼šä¸ºäº†ä¿è¯çŠ¶æ€çš„å¯æ§æ€§ï¼Œæœ€å¥½çš„æ–¹å¼å°±æ˜¯ç›‘æ§çŠ¶æ€çš„å˜åŒ–ã€‚\n"),n("ul",[n("li",[t._v("Redux Store ä¸­çš„æ•°æ®æ— æ³•è¢«ç›´æ¥ä¿®æ”¹ã€‚")]),t._v(" "),n("li",[t._v("ä¸¥æ ¼æ§åˆ¶ä¿®æ”¹çš„æ‰§è¡Œã€‚")])])]),t._v(" "),n("li",[n("strong",[t._v("çº¯å‡½æ•°")]),t._v("ï¼šè§„å®šåªèƒ½é€šè¿‡ä¸€ä¸ªçº¯å‡½æ•°ï¼ˆReducerï¼‰æ¥æè¿°ä¿®æ”¹ã€‚")])]),t._v(" "),n("h3",{attrs:{id:"å•ä¸€æ•°æ®æº"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å•ä¸€æ•°æ®æº","aria-hidden":"true"}},[t._v("#")]),t._v(" å•ä¸€æ•°æ®æº")]),t._v(" "),n("p",[n("strong",[t._v("æ•´ä¸ªåº”ç”¨çš„çŠ¶æ€æ•°æ®è¢«å‚¨å­˜åœ¨ä¸€æ£µ Object Tree ä¸­ï¼Œå¹¶ä¸”åªå­˜åœ¨äºå”¯ä¸€ä¸€ä¸ª Store ä¸­ã€‚")])]),t._v(" "),n("p",[t._v("åœ¨ä¼ ç»Ÿçš„ MVC æ¶æ„ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦åˆ›å»ºæ— æ•°ä¸ª Modelï¼Œè€Œ Model ä¹‹é—´å¯ä»¥äº’ç›¸ç›‘å¬ã€ è§¦å‘äº‹ä»¶ç”šè‡³å¾ªç¯æˆ–åµŒå¥—è§¦å‘äº‹ä»¶ï¼Œè¿™äº›åœ¨ Redux ä¸­éƒ½æ˜¯ä¸å…è®¸çš„ã€‚")]),t._v(" "),n("p",[t._v("å› ä¸ºåœ¨ Redux çš„æ€æƒ³é‡Œï¼Œä¸€ä¸ªåº”ç”¨æ°¸è¿œåªæœ‰å”¯ä¸€çš„æ•°æ®æºã€‚æˆ‘ä»¬çš„ç¬¬ä¸€ååº”å¯èƒ½æ˜¯ï¼šå¦‚æœæœ‰ä¸€ä¸ªå¤æ‚åº”ç”¨ï¼Œå¼ºåˆ¶è¦æ±‚å”¯ä¸€çš„æ•°æ®æºå²‚ä¸æ˜¯ä¼šäº§ç”Ÿä¸€ä¸ªç‰¹åˆ«åºå¤§çš„ JavaScript å¯¹è±¡ã€‚")]),t._v(" "),n("p",[t._v("å®é™…ä¸Šï¼Œä½¿ç”¨å•ä¸€æ•°æ®æºçš„å¥½å¤„åœ¨äºæ•´ä¸ªåº”ç”¨çŠ¶æ€éƒ½ä¿å­˜åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œè¿™æ ·æˆ‘ä»¬éšæ—¶å¯ä»¥æå–å‡ºæ•´ä¸ªåº”ç”¨çš„çŠ¶æ€è¿›è¡ŒæŒä¹…åŒ–ï¼ˆæ¯”å¦‚å®ç°ä¸€ä¸ªé’ˆå¯¹æ•´ä¸ªåº”ç”¨çš„å³æ—¶ä¿å­˜åŠŸèƒ½ï¼‰ã€‚æ­¤å¤–ï¼Œè¿™æ ·çš„è®¾è®¡ä¹Ÿä¸ºæœåŠ¡ç«¯æ¸²æŸ“æä¾›äº†å¯èƒ½ã€‚")]),t._v(" "),n("p",[t._v("è‡³äºæˆ‘ä»¬æ‹…å¿ƒçš„æ•°æ®æºå¯¹è±¡è¿‡äºåºå¤§çš„é—®é¢˜ï¼Œå¯é€šè¿‡äº†è§£ Redux æä¾›çš„å·¥å…·å‡½æ•° "),n("code",[t._v("combineReducers")]),t._v(" æ˜¯å¦‚ä½•åŒ–è§£çš„ã€‚")]),t._v(" "),n("blockquote",[n("p",[t._v("ğŸ“Œ Flux å¯èƒ½æœ‰å¤šä¸ª Storeï¼ˆåŒºåˆ«äº Flux çš„ Storeï¼ŒRedux çš„ State ä¸ä¼šå­˜æ”¾é€»è¾‘ï¼Œæ“ä½œæ•°æ®åœ¨ Reducer ä¸­å¤„ç†ã€‚ï¼‰")])]),t._v(" "),n("h3",{attrs:{id:"çŠ¶æ€åªè¯»"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#çŠ¶æ€åªè¯»","aria-hidden":"true"}},[t._v("#")]),t._v(" çŠ¶æ€åªè¯»")]),t._v(" "),n("p",[n("strong",[t._v("åªèƒ½é€šè¿‡è§¦å‘äº‹ä»¶ï¼ˆä¹Ÿå°±æ˜¯è§¦å‘ Actionï¼‰æ¥äº§ç”Ÿæ–°çš„çŠ¶æ€æ•°æ®ï¼ŒAction æ˜¯ä¸€ä¸ªç”¨äºæè¿°å·²å‘ç”Ÿäº‹ä»¶çš„æ™®é€šå¯¹è±¡ã€‚")])]),t._v(" "),n("p",[t._v("è¿™ä¸€ç‚¹å’Œ Flux çš„æ€æƒ³ä¸è°‹è€Œåˆï¼Œä¸åŒçš„æ˜¯åœ¨ Flux ä¸­ï¼Œå› ä¸º Store æ²¡æœ‰ "),n("code",[t._v("setter")]),t._v(" è€Œé™åˆ¶äº†æˆ‘ä»¬ç›´æ¥ä¿®æ”¹åº”ç”¨çŠ¶æ€çš„èƒ½åŠ›ï¼Œè€Œåœ¨ Redux ä¸­ï¼Œè¿™æ ·çš„é™åˆ¶è¢«æ‰§è¡Œå¾—æ›´åŠ å½»åº•ï¼Œå› ä¸ºæˆ‘ä»¬å‹æ ¹æ²¡æœ‰ Storeã€‚")]),t._v(" "),n("p",[t._v("åœ¨ Redux ä¸­ï¼Œæˆ‘ä»¬å¹¶ä¸ä¼šè‡ªå·±ç”¨ä»£ç æ¥å®šä¹‰ä¸€ä¸ª Storeã€‚å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ª Reducerï¼Œ å®ƒçš„åŠŸèƒ½æ˜¯æ ¹æ®å½“å‰è§¦å‘çš„ Action å¯¹å½“å‰åº”ç”¨çš„ State è¿›è¡Œè¿­ä»£ï¼Œè¿™é‡Œæˆ‘ä»¬å¹¶æ²¡æœ‰ç›´æ¥ä¿®æ”¹åº”ç”¨çš„ Stateï¼Œè€Œæ˜¯è¿”å›äº†ä¸€ä»½å…¨æ–°çš„çŠ¶æ€ã€‚")]),t._v(" "),n("p",[t._v("Redux æä¾›çš„ "),n("code",[t._v("createStore")]),t._v(" æ–¹æ³•ä¼šæ ¹æ® Reducer ç”Ÿæˆ Storeã€‚æœ€åï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ "),n("code",[t._v("store.dispatch")]),t._v(" æ–¹æ³•æ¥è¾¾åˆ°ä¿®æ”¹çŠ¶æ€çš„ç›®çš„ã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("store"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'COMPLETE_TODO'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nstore"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SET_VISIBILITY_FILTER'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  filter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SHOW_COMPELETED'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h3",{attrs:{id:"çº¯å‡½æ•°"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#çº¯å‡½æ•°","aria-hidden":"true"}},[t._v("#")]),t._v(" çº¯å‡½æ•°")]),t._v(" "),n("p",[n("strong",[t._v("åœ¨ Reducer ä¸­æŒ‡å®šçŠ¶æ€æ•°æ®è½¬æ¢çš„é€»è¾‘ã€‚")])]),t._v(" "),n("p",[n("strong",[t._v("çº¯å‡½æ•°ï¼š")])]),t._v(" "),n("ul",[n("li",[t._v("ç›¸åŒçš„è¾“å…¥ï¼Œç»“æœå§‹ç»ˆç›¸åŒ")]),t._v(" "),n("li",[t._v("ä¸å¯¹å¤–éƒ¨ç¯å¢ƒè¿›è¡Œæ“ä½œ")])]),t._v(" "),n("p",[t._v("åœ¨ Redux é‡Œï¼Œæˆ‘ä»¬é€šè¿‡å®šä¹‰ Reducer æ¥ç¡®å®šçŠ¶æ€çš„ä¿®æ”¹ï¼Œè€Œæ¯ä¸€ä¸ª Reducer éƒ½æ˜¯çº¯å‡½æ•°ï¼Œè¿™æ„å‘³ç€å®ƒæ²¡æœ‰å‰¯ä½œç”¨ï¼Œå³æ¥å—ä¸€å®šçš„è¾“å…¥ï¼Œå¿…å®šä¼šå¾—åˆ°ä¸€å®šçš„è¾“å‡ºã€‚")]),t._v(" "),n("p",[t._v("è¿™æ ·è®¾è®¡çš„å¥½å¤„ä¸ä»…åœ¨äº Reducer é‡Œå¯¹çŠ¶æ€çš„ä¿®æ”¹å˜å¾—ç®€å•ã€çº¯ç²¹ã€å¯æµ‹è¯•ï¼Œæ›´æœ‰æ„æ€çš„æ˜¯ï¼Œ Redux åˆ©ç”¨æ¯æ¬¡æ–°è¿”å›çš„çŠ¶æ€ç”Ÿæˆé…·ç‚«çš„æ—¶é—´æ—…è¡Œï¼ˆtime travelï¼‰è°ƒè¯•æ–¹å¼ï¼Œè®©è·Ÿè¸ªæ¯ä¸€æ¬¡å› ä¸ºè§¦å‘ Action è€Œæ”¹å˜çŠ¶æ€çš„ç»“æœæˆä¸ºäº†å¯èƒ½ã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("visibilityFilter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SHOW_ALL'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SET_VISIBILITY_FILTER'")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("filter\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("todos")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ADD_TODO'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    completed"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'COMPLTE_TODO'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("todo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("index "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("assign")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" todo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        completed"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" todo\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" combineReducers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" createStore "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'redux'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" reducer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("combineReducers")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" visibilityFilter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" todos "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" store "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createStore")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reducer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[n("strong",[t._v("ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨çº¯å‡½æ•°ï¼Ÿ")])]),t._v(" "),n("p",[t._v("å› ä¸º Redux çš„ Store è®¾è®¡ï¼Œå¹¶ä¸æ˜¯åŸæœ¬ Flux æ¶æ„çš„ Storeï¼Œè€Œæ˜¯ ReducerStoreï¼Œè¿™ä¸ª ReducerStore æ˜¯ä¸€ä¸ªåœ¨ Flux ä¸­çš„ Store çš„è¿›åŒ–ç‰ˆï¼Œåœ¨è¯´æ˜ä¸­å®ƒæœ‰ä¸€ä¸ªå«åš reduce çš„æ–¹æ³•ã€‚")]),t._v(" "),n("h2",{attrs:{id:"åŸºæœ¬ç»„æˆ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åŸºæœ¬ç»„æˆ","aria-hidden":"true"}},[t._v("#")]),t._v(" åŸºæœ¬ç»„æˆ")]),t._v(" "),n("h3",{attrs:{id:"store"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#store","aria-hidden":"true"}},[t._v("#")]),t._v(" Store")]),t._v(" "),n("p",[n("strong",[t._v("Store")]),t._v("ï¼šåº”ç”¨ç¨‹åºçš„æ•°æ®é›†åˆï¼Œå¹¶åŒ…å«äº†æ‰€æœ‰å¯¹æ•°æ®çš„å˜åŠ¨æ–¹æ³•ã€‚")]),t._v(" "),n("p",[t._v("é€šè¿‡ "),n("code",[t._v("redux")]),t._v(" çš„ "),n("code",[t._v("createStore")]),t._v(" API ç”Ÿæˆ Storeï¼Œè¯¥æ–¹æ³•å¯ä¼ ä¸‰ä¸ªå‚æ•°ï¼š")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("reducer")]),t._v("ï¼š")]),t._v(" "),n("li",[n("code",[t._v("preloadedstate")]),t._v("ï¼šState çš„åˆå§‹å€¼")]),t._v(" "),n("li",[n("code",[t._v("enhancer")]),t._v("ï¼š")])]),t._v(" "),n("p",[t._v("è¿”å›å€¼ä¸ºå¯¹è±¡ç±»å‹ï¼Œå…·æœ‰ä»¥ä¸‹å±æ€§ï¼š")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("getState")]),t._v("ï¼šè·å– state")]),t._v(" "),n("li",[n("code",[t._v("dispatch")]),t._v("ï¼šè§¦å‘ actionï¼Œæ›´æ–° state")]),t._v(" "),n("li",[n("code",[t._v("subscribe")]),t._v("ï¼šè®¢é˜…æ•°æ®å˜æ›´ï¼Œæ³¨å†Œç›‘å¬å™¨")]),t._v(" "),n("li",[n("code",[t._v("replaceReducer")]),t._v("ï¼š")]),t._v(" "),n("li",[n("code",[t._v("[$$observable]")]),t._v("ï¼š")])]),t._v(" "),n("div",{staticClass:"language-jsx extra-class"},[n("pre",{pre:!0,attrs:{class:"language-jsx"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»º")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" store "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createStore")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Reducer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" initStore"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Reducer")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fooApp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" initialstate"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" props")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" SET_VISIBIlity_FILTER\n      \t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("aasign")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          visibilityFitter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" action "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("filter\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"action"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#action","aria-hidden":"true"}},[t._v("#")]),t._v(" Action")]),t._v(" "),n("p",[t._v("Action æ˜¯æŠŠæ•°æ®ä»åº”ç”¨ä¼ åˆ° Store çš„æœ‰æ•ˆè½½è·ã€‚å®ƒæ˜¯ Store æ•°æ®çš„å”¯ä¸€æ¥æºï¼Œä¹Ÿå°±æ˜¯è¯´è¦æ”¹å˜ Store ä¸­çš„ State å°±éœ€è¦è§¦å‘ä¸€ä¸ª Actionã€‚")]),t._v(" "),n("p",[t._v("Action æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ™®é€šçš„ JavaScript å¯¹è±¡ï¼Œaction å†…å¿…é¡»ä½¿ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹ type å­—æ®µæ¥è¡¨ç¤ºå°†è¦æ‰§è¡Œçš„åŠ¨ä½œï¼Œé™¤äº† type å­—æ®µå¤–ï¼Œaction å¯¹è±¡çš„ç»“æ„å®Œå…¨ç”±ä½ æ¥å†³å®šã€‚å¤šæ•°æƒ…å†µä¸‹ï¼Œtype ä¼šè¢«å®šä¹‰æˆå­—ç¬¦ä¸²å¸¸é‡ã€‚å½“åº”ç”¨è§„æ¨¡è¶Šæ¥è¶Šå¤§æ—¶ï¼Œå»ºè®®ç”¨å•ç‹¬çš„æ¨¡å—æˆ–æ–‡ä»¶æ¥å­˜æ”¾ action typeã€‚")]),t._v(" "),n("div",{staticClass:"language-jsx extra-class"},[n("pre",{pre:!0,attrs:{class:"language-jsx"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Common Action")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" action "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ADD_LIST'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    item"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'list-item-1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Usage")]),t._v("\nstore"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é€šå¸¸ä¸ºäº†ä¾¿äºè°ƒç”¨ï¼Œä¼šæœ‰ä¸€ä¸ª Action åˆ›å»ºå‡½æ•° action creator")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addList")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" action "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ADD_LIST'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        item"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è°ƒç”¨å°±ä¼šå˜æˆ")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addList")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'list-item-1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("blockquote",[n("p",[t._v("ä½¿ç”¨å•ç‹¬çš„æ¨¡å—æˆ–æ–‡ä»¶æ¥å®šä¹‰ action type å¸¸é‡å¹¶ä¸å¿…é¡»çš„ï¼Œç”šè‡³æ ¹æœ¬ä¸éœ€è¦å®šä¹‰ã€‚å¯¹äºå°åº”ç”¨æ¥è¯´ï¼Œä½¿ç”¨å­—ç¬¦ä¸²åš action type æ›´æ–¹ä¾¿äº›ã€‚ä¸è¿‡ï¼Œåœ¨å¤§å‹åº”ç”¨ä¸­æŠŠå®ƒä»¬æ˜¾å¼åœ°å®šä¹‰æˆå¸¸é‡è¿˜æ˜¯åˆ©å¤§äºå¼Šã€‚")])]),t._v(" "),n("h3",{attrs:{id:"action-creator"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#action-creator","aria-hidden":"true"}},[t._v("#")]),t._v(" Action Creator")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addToDo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("text")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ADD_TODO'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("è¿™æ ·å°†ä½¿ action åˆ›å»ºå‡½æ•°æ›´å®¹æ˜“è¢«ç§»åŠ¨å’Œæµ‹è¯•ã€‚")]),t._v(" "),n("h3",{attrs:{id:"reducer"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#reducer","aria-hidden":"true"}},[t._v("#")]),t._v(" Reducer")]),t._v(" "),n("p",[t._v("reducer æ˜¯æ ¹æ® action ä¿®æ”¹ store å°†å…¶è½¬å˜æˆä¸‹ä¸€ä¸ª stateï¼Œè®°ä½ actions åªæè¿°äº†æœ‰äº‹æƒ…å‘ç”Ÿäº†è¿™ä¸€äº‹å®ï¼Œå¹¶æ²¡æœ‰æè¿°åº”ç”¨å¦‚ä½•æ›´æ–° stateã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("preState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" newState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("ä¿æŒ Reducer çº¯å‡€éå¸¸é‡è¦ã€‚æ°¸è¿œä¸è¦åœ¨ Reducer é‡Œåšè¿™äº›æ“ä½œï¼š")]),t._v(" "),n("ul",[n("li",[t._v("ä¿®æ”¹ä¼ å…¥å‚æ•°")]),t._v(" "),n("li",[t._v("æ‰§è¡Œæœ‰å‰¯ä½œç”¨ã€å¦‚ API è¯·æ±‚å’Œè·¯ç”±è·³è½¬")]),t._v(" "),n("li",[t._v("è°ƒç”¨éçº¯å‡½æ•°ï¼Œå¦‚ "),n("code",[t._v("Date.now()")]),t._v(" å’Œ "),n("code",[t._v("Math.random()")])])]),t._v(" "),n("blockquote",[n("p",[t._v("Reducer æ˜¯çº¯å‡½æ•°å®ƒä»…ä»…ç”¨äºè®¡ç®—ä¸‹ä¸€ä¸ª Stateã€‚å®ƒåº”è¯¥æ˜¯å®Œå…¨å¯é¢„æµ‹çš„ï¼šå¤šæ¬¡ä¼ å…¥ç›¸åŒçš„è¾“å…¥å¿…é¡»äº§å‡ºç›¸åŒçš„è¾“å‡ºï¼Œå®ƒä¸åº”è¯¥æœ‰å‰¯ä½œç”¨ï¼Œå¦‚ API è°ƒç”¨æˆ–è·¯ç”±è·³è½¬ã€‚è¿™äº›åº”è¯¥åœ¨ dispatch action å‰å‘ç”Ÿã€‚")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// reducer")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("todoApp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" initialState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SET_VISIBILITY_FILTER")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Obejct"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("assign")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        visibilityFilter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("filter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("ul",[n("li",[t._v("ä¸è¦ä¿®æ”¹ State\n"),n("ul",[n("li",[t._v("ä½¿ç”¨ Object.assign æ–°å»ºä¸€ä¸ªå‰¯æœ¬ã€‚ä¸èƒ½è¿™æ ·ä½¿ç”¨ "),n("code",[t._v("Object.assign(state, { visibilityFilter: action.filter })")]),t._v("ï¼Œå› ä¸ºå®ƒä¼šæ”¹å˜ç¬¬ä¸€å‚æ•°çš„å€¼ã€‚ä½ å¿…é¡»æŠŠç¬¬ä¸€ä¸ªå‚æ•°è®¾ç½®ä¸ºç©ºå¯¹è±¡ã€‚")]),t._v(" "),n("li",[t._v("ä½ ä¹Ÿå¯ä»¥å¼€å¯å¯¹ ES7 ææ¡ˆå¯¹è±¡å±•å¼€è¿ç®—ç¬¦çš„æ”¯æŒï¼Œä»è€Œä½¿ç”¨ "),n("code",[t._v("{...state, visibilityFilter: action.filter}")]),t._v(" è¾¾åˆ°ç›¸åŒçš„ç›®çš„")])])]),t._v(" "),n("li",[t._v("åœ¨ default æƒ…å†µä¸‹è¿”å›æ—§çš„ stateã€‚é‡åˆ°æœªçŸ¥çš„ action æ—¶ï¼Œä¸€å®šè¦è¿”å›æ—§çš„ stateã€‚")])]),t._v(" "),n("div",{staticClass:"language-jsx extra-class"},[n("pre",{pre:!0,attrs:{class:"language-jsx"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// A normal Reducer")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" initList "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ListReducer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" initList"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ADD_LIST'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("item"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("âš ï¸ "),n("strong",[t._v("æ³¨æ„äº‹é¡¹ï¼š")])]),t._v(" "),n("ul",[n("li",[t._v("éµå®ˆæ•°æ®ä¸å¯å˜åŸåˆ™ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹ Stateï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°å¯¹è±¡")]),t._v(" "),n("li",[t._v("é»˜è®¤æƒ…å†µä¸‹éœ€è¦è¿”å›åŸæ•°æ®ï¼Œé¿å…æ•°æ®è¢«æ¸…ç©º")]),t._v(" "),n("li",[t._v("æœ€å¥½è®¾ç½®åˆå§‹å€¼ï¼Œä¾¿äºåº”ç”¨çš„åˆå§‹åŒ–åŠæ•°æ®ç¨³å®š")])]),t._v(" "),n("h2",{attrs:{id:"å·¥ä½œæµç¨‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å·¥ä½œæµç¨‹","aria-hidden":"true"}},[t._v("#")]),t._v(" å·¥ä½œæµç¨‹")]),t._v(" "),n("ol",[n("li",[t._v("ç”¨æˆ·ï¼ˆæ“ä½œ Viewï¼‰å‘å‡º Actionï¼Œå‘å‡ºæ–¹å¼å°±ç”¨åˆ°äº† dispatch æ–¹æ³•")]),t._v(" "),n("li",[t._v("ç„¶åï¼ŒStore è‡ªåŠ¨è°ƒç”¨ Reducerï¼Œå¹¶ä¸”ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼ˆå½“å‰ State å’Œæ”¶åˆ° Actionï¼‰ï¼ŒReducer ä¼šè¿”å›æ–°çš„ Stateï¼Œå¦‚æœæœ‰ Middlewareï¼ŒStore ä¼šå°†å½“å‰ State å’Œæ”¶åˆ°çš„ Action ä¼ é€’ç»™ Middlewareï¼ŒMiddleware ä¼šè°ƒç”¨ Reducer ç„¶åè¿”å›æ–°çš„ State")]),t._v(" "),n("li",[t._v("State ä¸€æ—¦æœ‰å˜åŒ–ï¼ŒStore å°±ä¼šè°ƒç”¨ç›‘å¬å‡½æ•°ï¼Œæ¥æ›´æ–° View")])]),t._v(" "),n("h2",{attrs:{id:"ä¼˜ç¼ºç‚¹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¼˜ç¼ºç‚¹","aria-hidden":"true"}},[t._v("#")]),t._v(" ä¼˜ç¼ºç‚¹")]),t._v(" "),n("h3",{attrs:{id:"ä¼˜ç‚¹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¼˜ç‚¹","aria-hidden":"true"}},[t._v("#")]),t._v(" ä¼˜ç‚¹")]),t._v(" "),n("ul",[n("li",[t._v("å¯é¢„æµ‹ï¼šå§‹ç»ˆæœ‰ä¸€ä¸ªå”¯ä¸€å‡†ç¡®çš„æ•°æ®æºï¼ˆsingle source of truthï¼‰å³ Storeï¼Œå› æ­¤ä¸å­˜åœ¨å¦‚ä½•å°†å½“å‰çŠ¶æ€ Store ä¸åŠ¨ä½œå’Œåº”ç”¨çš„å…¶ä»–éƒ¨åˆ†åŒæ­¥çš„é—®é¢˜")]),t._v(" "),n("li",[t._v("æ˜“ç»´æŠ¤ï¼šå…·å¤‡å¯é¢„æµ‹çš„ç»“æœå’Œä¸¥æ ¼çš„ç»„ç»‡ç»“æ„è®©ä»£ç æ›´å®¹æ˜“ç»´æŠ¤")]),t._v(" "),n("li",[t._v("æ˜“æµ‹è¯•ï¼šç¼–å†™å¯æµ‹è¯•ä»£ç çš„é¦–è¦å‡†åˆ™æ˜¯ç¼–å†™å¯ä»¥ä»…åšä¸€ä»¶äº‹å¹¶ä¸”ç‹¬ç«‹çš„å°å‡½æ•°ï¼ˆsingle responsibility principleï¼‰ï¼ŒRedux çš„ä»£ç å‡ ä¹å…¨éƒ¨éƒ½æ˜¯è¿™æ ·çš„å‡½æ•°ï¼šçŸ­å°ã€çº¯ç²¹ã€åˆ†ç¦»")])]),t._v(" "),n("h3",{attrs:{id:"ç¼ºé™·"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç¼ºé™·","aria-hidden":"true"}},[t._v("#")]),t._v(" ç¼ºé™·")]),t._v(" "),n("ul",[n("li",[t._v("ä¸€ä¸ªç»„ä»¶æ‰€éœ€è¦çš„æ•°æ®ï¼Œå¿…é¡»ç”±çˆ¶ç»„ä»¶ä¼ è¿‡æ¥ï¼Œè€Œä¸èƒ½åƒ Flux ä¸­ç›´æ¥ ä» Store å–ã€‚")]),t._v(" "),n("li",[t._v("å½“ä¸€ä¸ªç»„ä»¶ç›¸å…³æ•°æ®æ›´æ–°æ—¶ï¼Œå³ä½¿çˆ¶ç»„ä»¶ä¸éœ€è¦ç”¨åˆ°è¿™ä¸ªç»„ä»¶ï¼Œçˆ¶ç»„ä»¶è¿˜æ˜¯ä¼š re-renderï¼Œå¯èƒ½ä¼šæœ‰æ•ˆç‡å½±å“ï¼Œæˆ–è€…éœ€è¦å†™å¤æ‚çš„ "),n("code",[t._v("shouldComponentUpdate")]),t._v(" è¿›è¡Œåˆ¤æ–­ã€‚")])]),t._v(" "),n("h2",{attrs:{id:"redux-å’Œ-flux-å¯¹æ¯”"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#redux-å’Œ-flux-å¯¹æ¯”","aria-hidden":"true"}},[t._v("#")]),t._v(" Redux å’Œ Flux å¯¹æ¯”")]),t._v(" "),n("p",[t._v("Redux æ˜¯ Flux æ¶æ„æ€æƒ³çš„å®è·µæ–¹æ¡ˆï¼ŒåŒæ—¶åˆåœ¨å…¶åŸºç¡€ä¸Šè¿›è¡Œæ”¹è¿›ã€‚Redux æ‰¿è½½äº† Flux å•å‘æ•°æ®æµã€Store æ˜¯å”¯ä¸€çš„æ•°æ®æºçš„æ€æƒ³ã€‚")]),t._v(" "),n("ul",[n("li",[t._v("Redux ä¸­æ²¡æœ‰ Dispatcherï¼šå®ƒä½¿ç”¨ Store çš„ Store.dispatch æ–¹æ³•æ¥æŠŠ action ä¼ ç»™ Storeï¼Œç”±äºæ‰€æœ‰çš„ action å¤„ç†éƒ½ä¼šç»è¿‡è¿™ä¸ª Store.dispatch æ–¹æ³•ï¼Œæ‰€ä»¥åœ¨ Redux ä¸­å¾ˆå®¹æ˜“å®ç° Middleware æœºåˆ¶ã€‚Middleware å¯ä»¥è®©ä½ åœ¨ reducer æ‰§è¡Œä¸æ‰§è¡Œåè¿›è¡Œæ‹¦æˆªå¹¶æ’å…¥ä»£ç ï¼Œæ¥è¾¾åˆ°æ“ä½œ action å’Œ Store çš„ç›®çš„ï¼Œè¿™æ ·ä¸€æ¥å¾ˆå®¹æ˜“å®ç°çµæ´»çš„æ—¥å¿—æ‰“å°ã€é”™è¯¯æ”¶é›†ã€API è¯·æ±‚ã€è·¯ç”±ç­‰æ“ä½œã€‚")]),t._v(" "),n("li",[t._v("Redux åªæœ‰ä¸€ä¸ª Storeï¼šFlux ä¸­å…è®¸æœ‰å¤šä¸ª Storeï¼Œä½†æ˜¯ Redux åªå…è®¸æœ‰ä¸€ä¸ªï¼Œç›¸è¾ƒäºå¤šä¸ª Store çš„ Fluxï¼Œä¸€ä¸ª Store æ›´åŠ æ¸…æ™°ï¼Œå¹¶æ˜“äºç®¡ç†")])]),t._v(" "),n("blockquote",[n("p",[t._v("Redux å’Œ Flux æœ€å¤§çš„ä¸åŒæ˜¯ Redux æ²¡æœ‰ dispatcher ä¸”ä¸æ”¯æŒå¤šä¸ª Storeã€‚Redux åªæœ‰ä¸€ä¸ªå•ä¸€çš„ store å’Œä¸€ä¸ªæ ¹çº§çš„ reducer å‡½æ•°ï¼ˆreducerï¼‰ï¼Œéšç€åº”ç”¨ä¸æ–­å˜å¤§ï¼Œæˆ‘ä»¬éœ€è¦å°†æ ¹çº§çš„ reducer æ‹†æˆå¤šä¸ªå°çš„ reducersï¼Œåˆ†åˆ«ç‹¬ç«‹åœ°æ“ä½œ state æ ‘çš„ä¸åŒéƒ¨åˆ†ï¼Œè€Œä¸æ˜¯æ·»åŠ æ–°çš„ storesã€‚")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("Flux")]),t._v(" "),n("th",[t._v("Redux")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("Store åŒ…å«çŠ¶æ€å’Œæ›´æ”¹é€»è¾‘")]),t._v(" "),n("td",[t._v("Store å’Œæ›´æ”¹é€»è¾‘æ˜¯åˆ†å¼€çš„")])]),t._v(" "),n("tr",[n("td",[t._v("æœ‰å¤šä¸ª Store")]),t._v(" "),n("td",[t._v("åªæœ‰ä¸€ä¸ª Store")])]),t._v(" "),n("tr",[n("td",[t._v("æ‰€æœ‰ Store éƒ½äº’ä¸å½±å“ä¸”æ˜¯å¹³çº§çš„")]),t._v(" "),n("td",[t._v("å¸¦æœ‰åˆ†å±‚ reducer çš„å•ä¸€ Store")])]),t._v(" "),n("tr",[n("td",[t._v("æœ‰å•ä¸€è°ƒåº¦å™¨")]),t._v(" "),n("td",[t._v("æ²¡æœ‰è°ƒåº¦å™¨çš„æ¦‚å¿µ")])]),t._v(" "),n("tr",[n("td",[t._v("React ç»„ä»¶è®¢é˜… Store")]),t._v(" "),n("td",[t._v("å®¹å™¨ç»„ä»¶æ˜¯æœ‰è”ç³»çš„")])]),t._v(" "),n("tr",[n("td",[t._v("çŠ¶æ€æ˜¯å¯å˜çš„")]),t._v(" "),n("td",[t._v("çŠ¶æ€æ˜¯ä¸å¯æ”¹å˜çš„")])])])]),t._v(" "),n("h2",{attrs:{id:"ä¸ºä»€ä¹ˆè¦ç”¨-reduxï¼Ÿ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆè¦ç”¨-reduxï¼Ÿ","aria-hidden":"true"}},[t._v("#")]),t._v(" ä¸ºä»€ä¹ˆè¦ç”¨ Reduxï¼Ÿ")]),t._v(" "),n("p",[t._v("éšç€ JavaScript åº”ç”¨è¶Šæ¥è¶Šå¤§ï¼Œè¶Šæ¥è¶Šå¤æ‚ï¼Œæˆ‘ä»¬éœ€è¦ç®¡ç†çš„ State å˜å¾—è¶Šæ¥è¶Šå¤šã€‚è¿™äº› State å¯èƒ½åŒ…æ‹¬æœåŠ¡å™¨å“åº”ã€ç¼“å­˜æ•°æ®ã€æœ¬åœ°ç”Ÿæˆå°šæœªæŒä¹…åŒ–åˆ°æœåŠ¡å™¨çš„æ•°æ®ï¼Œä¹ŸåŒ…æ‹¬ UI çŠ¶æ€ï¼Œå¦‚æ¿€æ´»çš„è·¯ç”±ï¼Œè¢«é€‰ä¸­çš„æ ‡ç­¾ï¼Œæ˜¯å¦æ˜¾ç¤ºåŠ è½½åŠ¨æ•ˆæˆ–è€…åˆ†é¡µå™¨ç­‰ã€‚")]),t._v(" "),n("p",[t._v("ç®¡ç†ä¸æ–­å˜åŒ–çš„ state éå¸¸å›°éš¾ã€‚å¦‚æœä¸€ä¸ª model çš„å˜åŒ–ä¼šå¼•èµ·å¦ä¸€ä¸ª model çš„å˜åŒ–ï¼Œé‚£ä¹ˆå½“ view å˜åŒ–æ—¶ï¼Œå°±å¯èƒ½å¼•èµ·å¯¹åº” model ä»¥åŠå¦ä¸€ä¸ª model çš„å˜åŒ–ï¼Œä¾æ¬¡åœ°ï¼Œå¯èƒ½ä¼šå¼•èµ·å¦ä¸€ä¸ª view çš„å˜åŒ–ã€‚ç›´è‡³ä½ æä¸æ¸…æ¥šåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆã€‚state åœ¨ä»€ä¹ˆæ—¶å€™ï¼Œç”±äºä»€ä¹ˆåŸå› ï¼Œå¦‚ä½•å˜åŒ–å·²ç„¶ä¸å—æ§åˆ¶ã€‚å½“ç³»ç»Ÿå˜å¾—é”™ç»¼å¤æ‚æ—¶ï¼Œæƒ³é‡ç°é—®é¢˜æˆ–è€…æ·»åŠ æ–°åŠŸèƒ½å°±ä¼šå˜å¾—éå¸¸å¤æ‚ã€‚")]),t._v(" "),n("p",[t._v("è™½ç„¶ React è¯•å›¾åœ¨è¯•å›¾å±‚ç¦æ­¢å¼‚æ­¥å’Œç›´æ¥æ“ä½œ DOM æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ç¾ä¸­ä¸è¶³çš„æ˜¯ï¼ŒReact ä¾æ—§æŠŠå¤„ç† State ä¸­æ•°æ®çš„é—®é¢˜ç•™ç»™äº†ä½ ã€‚Redux å°±æ˜¯ä¸ºäº†å¸®ä½ è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚")]),t._v(" "),n("p",[t._v("Redux åº”ç”¨ä¸­æ‰€æœ‰çš„ State éƒ½ä»¥ä¸€ä¸ªå¯¹è±¡æ ‘çš„å½¢å¼å‚¨å­˜åœ¨ä¸€ä¸ªå•ä¸€çš„ Store ä¸­ï¼Œå”¯ä¸€æ”¹å˜ State çš„åŠæ³•æ˜¯è§¦å‘ actionï¼Œaction æ˜¯ä¸€ä¸ªæè¿°å‘ç”Ÿäº†ä»€ä¹ˆçš„å¯¹è±¡ã€‚ä¸ºäº†æè¿° action å¦‚ä½•æ”¹å˜ State æ ‘ï¼Œä½ éœ€è¦ç¼–å†™ reducersã€‚")]),t._v(" "),n("p",[t._v("ğŸŒ° "),n("strong",[t._v("æ ‡å‡†ç¤ºä¾‹ï¼š")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" createStore "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'redux'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * è¿™æ˜¯ä¸€ä¸ª reducerï¼Œå½¢å¼ä¸º (state, action) => state çš„çº¯å‡½æ•°\n * æè¿°äº† action å¦‚ä½•æŠŠ state è½¬å˜æˆä¸‹ä¸€ä¸ª state\n *\n * state çš„å½¢å¼å–å†³äºä½ ï¼Œå¯ä»¥æ˜¯åŸºæœ¬ç±»å‹ã€æ•°ç»„ã€å¯¹è±¡\n * å½“ state ä¿®æ”¹æ—¶éœ€è¦è¿”å›å…¨æ–°çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä¿®æ”¹ä¼ å…¥çš„å‚æ•°\n *\n * ä¸‹é¢ä¾‹å­ä½¿ç”¨ `switch` è¯­å¥å’Œå­—ç¬¦ä¸²æ¥åšåˆ¤æ–­ï¼Œä½†ä½ å¯ä»¥å†™å¸®åŠ©ç±»ï¼ˆhelperï¼‰\n * æ ¹æ®ä¸åŒçš„çº¦å®šï¼ˆå¦‚æ–¹æ³•æ˜ å°„ï¼‰æ¥åˆ¤æ–­ï¼Œåªè¦é€‚ç”¨äºä½ çš„é¡¹ç›®å°±å¯ä»¥äº†\n */")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("counter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'INCREMENT'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'DECREMENT'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»º Redux Store æ¥å­˜æ”¾åº”ç”¨çŠ¶æ€")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// API æ˜¯ { subscribe, dispatch, getState }")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" store "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createStore")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("counter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯ä»¥æ‰‹åŠ¨è®¢é˜…æ›´æ–°ï¼Œä¹Ÿå¯ä»¥äº‹ä»¶ç»‘å®šåˆ°è§†å›¾å±‚")]),t._v("\nstore"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("store"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getState")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ”¹å˜å†…éƒ¨ state å”¯ä¸€æ–¹æ³•æ˜¯ dispatch ä¸€ä¸ª action")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// action å¯ä»¥è¢«åºåˆ—åŒ–ï¼Œç”¨æ—¥è®°è®°å½•å’Œå‚¨å­˜ä¸‹æ¥ï¼ŒåæœŸè¿˜å¯ä»¥å›æ”¾çš„æ–¹å¼æ‰§è¡Œ")]),t._v("\nstore"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'INCREMENT'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1")]),t._v("\nstore"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'INCREMENT'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2")]),t._v("\nstore"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'DECREMENT'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1")]),t._v("\n")])])]),n("h2",{attrs:{id:"å¼‚æ­¥æ•°æ®æµ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¼‚æ­¥æ•°æ®æµ","aria-hidden":"true"}},[t._v("#")]),t._v(" å¼‚æ­¥æ•°æ®æµ")]),t._v(" "),n("ul",[n("li",[t._v("redux-thunk")]),t._v(" "),n("li",[t._v("redux-promise")]),t._v(" "),n("li",[t._v("redux-saga")]),t._v(" "),n("li",[t._v("redux-persistï¼šæ”¯æŒ Store æœ¬åœ°æŒä¹…åŒ–")]),t._v(" "),n("li",[t._v("redux-observableï¼šå®ç°å¯å–æ¶ˆçš„ action")])]),t._v(" "),n("hr"),t._v(" "),n("p",[n("strong",[t._v("å‚è€ƒèµ„æ–™ï¼š")])]),t._v(" "),n("ul",[n("li",[n("p",[n("a",{attrs:{href:"https://github.com/camsong/redux-in-chinese",target:"_blank",rel:"noopener noreferrer"}},[t._v("ğŸ“– Redux ä¸­æ–‡æ–‡æ¡£"),n("OutboundLink")],1)])]),t._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://github.com/WisestCoder/blog/issues/1",target:"_blank",rel:"noopener noreferrer"}},[t._v("ğŸ“ Redux æºç åˆ†æä¸è®¾è®¡æ€è·¯åˆ†æ"),n("OutboundLink")],1)])]),t._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/26426054",target:"_blank",rel:"noopener noreferrer"}},[t._v("ğŸ“ å•é¡µåº”ç”¨çš„æ•°æ®æµæ–¹æ¡ˆæ¢ç´¢"),n("OutboundLink")],1)])]),t._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://www.imooc.com/article/16061",target:"_blank",rel:"noopener noreferrer"}},[t._v("ğŸ“ Redux æ¦‚å¿µä¹‹ä¸€ï¼šRedux ç®€ä»‹"),n("OutboundLink")],1)])]),t._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://www.imooc.com/article/16062",target:"_blank",rel:"noopener noreferrer"}},[t._v("ğŸ“ Redux æ¦‚å¿µä¹‹äºŒï¼šRedux çš„ä¸‰å¤§åŸåˆ™"),n("OutboundLink")],1)])]),t._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://www.imooc.com/article/16063",target:"_blank",rel:"noopener noreferrer"}},[t._v("ğŸ“ Redux æ¦‚å¿µä¹‹ä¸‰ï¼šAction ä¸ ActionCreator"),n("OutboundLink")],1)])]),t._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://www.imooc.com/article/16064",target:"_blank",rel:"noopener noreferrer"}},[t._v("ğŸ“ Redux æ¦‚å¿µä¹‹å››ï¼šReducer ä¸çº¯å‡½æ•°"),n("OutboundLink")],1)])]),t._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://www.imooc.com/article/16065",target:"_blank",rel:"noopener noreferrer"}},[t._v("ğŸ“ Redux æ¦‚å¿µä¹‹äº”ï¼šRedux å¥—ç”¨ä¸ƒæ­¥éª¤"),n("OutboundLink")],1)])]),t._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://testerhome.com/topics/8032",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¦‚ä½•åœ¨ React+Redux çš„é¡¹ç›®ä¸­æ›´ä¼˜é›…çš„å®ç°å‰ç«¯è‡ªåŠ¨åŒ–æµ‹è¯•"),n("OutboundLink")],1)])]),t._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://tech.meituan.com/2017/07/14/redux-design-code.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Redux ä»è®¾è®¡åˆ°æºç "),n("OutboundLink")],1)])])]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/53599723",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vuexã€Fluxã€Reduxã€Redux-sagaã€Dvaã€MobX"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/75696114",target:"_blank",rel:"noopener noreferrer"}},[t._v("Fluxã€Reduxã€Vuexã€MobX æ€»ç»“ï¼ˆæ¦‚å¿µç¯‡ï¼‰"),n("OutboundLink")],1)])])])},[],!1,null,null,null);a.default=e.exports}}]);