(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{242:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"react-suspense"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-suspense","aria-hidden":"true"}},[t._v("#")]),t._v(" React.Suspense")]),t._v(" "),s("p",[s("code",[t._v("React.Suspense")]),t._v(" æ˜¯ä¸€ç§è™šæ‹Ÿç»„ä»¶ï¼ˆç±»ä¼¼äº Fragmentï¼Œä»…ç”¨ä½œç±»å‹æ ‡è¯†ï¼‰ã€‚")]),t._v(" "),s("h2",{attrs:{id:"ä½¿ç”¨æŒ‡å—"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨æŒ‡å—","aria-hidden":"true"}},[t._v("#")]),t._v(" ä½¿ç”¨æŒ‡å—")]),t._v(" "),s("p",[t._v("ğŸŒ° "),s("strong",[t._v("ç¤ºä¾‹ï¼š")])]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// This component is loaded dynamically")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" OtherComponent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("lazy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./OtherComponent'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("MyComponent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Displays <Spinner> until OtherComponent loads")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React.Suspense")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("fallback")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("loading...")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OtherComponent")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n    ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React.Suspense")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("Suspense å­æ ‘ä¸­ä¹‹é¥å­˜åœ¨è¿˜æ²¡è¿”å›çš„ Lazy ç»„ä»¶ï¼Œå°±è¿”å› "),s("code",[t._v("fallback")]),t._v(" æŒ‡å®šçš„å†…å®¹ã€‚")]),t._v(" "),s("p",[t._v("Suspense ç»„ä»¶å¯ä»¥æ”¾åœ¨ï¼ˆç»„ä»¶æ ‘ä¸­ï¼‰Lazy ç»„ä»¶ä¸Šæ–¹çš„äººä»¥ä½ç½®ï¼Œå¹¶ä¸”ä¸‹æ–¹å¯ä»¥æœ‰å¤šä¸ª Lazy ç»„ä»¶ã€‚")]),t._v(" "),s("p",[t._v("å¯¹åº”åˆ° loading åœºæ™¯ï¼Œå°±æ˜¯è¿™ä¸¤ç§èƒ½åŠ›ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("æ”¯æŒ loading æå‡")]),t._v(" "),s("li",[t._v("æ”¯æŒ loading èšåˆ")])]),t._v(" "),s("p",[t._v("âš ï¸ "),s("strong",[t._v("æ²¡è¢« Suspense åŒ…è£¹çš„ Lazy ç»„ä»¶ä¼šæŠ¥é”™ã€‚")])]),t._v(" "),s("h2",{attrs:{id:"å»ºè®¾åˆè¡·"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å»ºè®¾åˆè¡·","aria-hidden":"true"}},[t._v("#")]),t._v(" å»ºè®¾åˆè¡·")]),t._v(" "),s("p",[t._v("åˆè¡·æ˜¯ä¸º logading åœºæ™¯æä¾›ä¼˜é›…çš„é€šç”¨è§£å†³æ–¹æ¡ˆï¼Œå…è®¸ç»„ä»¶æ ‘æŒ‚èµ·ç­‰å¾…ï¼ˆå³å»¶è¿Ÿæ¸²æŸ“ï¼‰å¼‚æ­¥æ•°æ®ï¼Œæ„ä¹‰åœ¨äºï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ç¬¦åˆæœ€ä½³ç”¨æˆ·ä½“éªŒï¼š\n"),s("ul",[s("li",[t._v("é¿å…å¸ƒå±€æŠ–åŠ¨ï¼ˆæ•°æ®å›æ¥ä¹‹åå†’å‡ºæ¥ä¸€å—å†…å®¹ï¼‰ï¼Œå½“ç„¶ï¼Œè¿™æ˜¯åŠ  loading æˆ– skeletonï¼ˆéª¨æ¶å±ï¼‰çš„å¥½å¤„ï¼Œä¸ Suspense å…³ç³»ä¸å¾ˆå¤§")]),t._v(" "),s("li",[t._v("åŒºåˆ«å¯¹å¾…ä¸åŒç½‘ç»œç¯å¢ƒï¼ˆæ•°æ®è¿”å›å¿«çš„è¯å‹æ ¹ä¸ä¼šå‡ºç° loadingï¼‰")])])]),t._v(" "),s("li",[t._v("ä¼˜é›…ï¼šä¸ç”¨å†ä¸ºäº†åŠ å­æ ‘ loading è€Œæå‡ç›¸å…³çŠ¶æ€å’Œé€»è¾‘ï¼Œä»çŠ¶æ€æå‡ä¸ç»„ä»¶å°è£…æ€§çš„æŠ‘éƒä¸­è§£è„±äº†")]),t._v(" "),s("li",[t._v("çµæ´»ï¼šloading ç»„ä»¶ä¸å¼‚æ­¥ç»„ä»¶ï¼ˆä¾èµ–å¼‚æ­¥æ•°æ®çš„ç»„ä»¶ï¼‰ä¹‹é—´æ²¡æœ‰ç»„ä»¶å±‚çº§å…³ç³»ä¸Šçš„å¼ºå…³è”ï¼Œèƒ½å¤Ÿçµæ´»æ§åˆ¶ loading ç²’åº¦")]),t._v(" "),s("li",[t._v("é€šç”¨ï¼šæ”¯æŒç­‰å¾…å¼‚æ­¥æ•°æ®æ—¶æ˜¾ç¤ºé™çº§ç»„ä»¶ï¼ˆloading åªæ˜¯ä¸€ç§æœ€å¸¸è§çš„é™çº§ç­–ç•¥ï¼Œfallback åˆ°ç¼“å­˜æ•°æ®ç”šè‡³å¹¿å‘Šä¹Ÿä¸æ˜¯ä¸å¯ä»¥ï¼‰")])]),t._v(" "),s("hr"),t._v(" "),s("p",[s("strong",[t._v("å‚è€ƒèµ„æ–™ï¼š")])]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"http://www.ayqy.net/blog/react-suspense/",target:"_blank",rel:"noopener noreferrer"}},[t._v("React Suspense"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://juejin.im/post/5c7d4a785188251b921f4e26",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ·±åº¦ç†è§£ Suspense"),s("OutboundLink")],1)])])])},[],!1,null,null,null);a.default=e.exports}}]);