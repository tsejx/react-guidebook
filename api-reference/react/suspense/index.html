<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/react-guidebook/umi.css" />
    <script>
      window.routerBase = "/react-guidebook/";
    </script>
    <script>
      //! umi version: 3.2.19
    </script>
    <title>React.Suspense</title>
  
</head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/react-guidebook-favicon.png&#x27;)" href="/react-guidebook//">React Guidebook</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a href="/react-guidebook//foundation">åŸºç¡€</a><a href="/react-guidebook//architect">æ¶æ„</a><a href="/react-guidebook//ecosystem">ç”Ÿæ€</a><a aria-current="page" class="active" href="/react-guidebook//api-reference">API</a><a href="/react-guidebook//hooks">Hooks</a><a href="/react-guidebook//extensions">æ‰©å±•</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/react-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/react-guidebook-favicon.png&#x27;)" href="/react-guidebook//"></a><h1>React Guidebook</h1><p>React å®Œå…¨çŸ¥è¯†ä½“ç³»</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a href="/react-guidebook//foundation">åŸºç¡€</a></li><li><a href="/react-guidebook//architect">æ¶æ„</a></li><li><a href="/react-guidebook//ecosystem">ç”Ÿæ€</a></li><li><a aria-current="page" class="active" href="/react-guidebook//api-reference">API</a></li><li><a href="/react-guidebook//hooks">Hooks</a></li><li><a href="/react-guidebook//extensions">æ‰©å±•</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/react-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a aria-current="page" class="active" href="/react-guidebook//api-reference/react">React</a><ul><li><a href="/react-guidebook//api-reference/react/pure-component"><span>React.PureComponent</span></a></li><li><a href="/react-guidebook//api-reference/react/memo"><span>React.memo</span></a></li><li><a href="/react-guidebook//api-reference/react/create-element"><span>React.createElement</span></a></li><li><a href="/react-guidebook//api-reference/react/clone-element"><span>React.cloneElement</span></a></li><li><a href="/react-guidebook//api-reference/react/is-valid-element"><span>React.isValidElement</span></a></li><li><a href="/react-guidebook//api-reference/react/children"><span>React.children</span></a></li><li><a href="/react-guidebook//api-reference/react/fragment"><span>React.Fragment</span></a></li><li><a href="/react-guidebook//api-reference/react/create-ref"><span>React.createRef</span></a></li><li><a href="/react-guidebook//api-reference/react/forward-ref"><span>React.forwardRef</span></a></li><li><a href="/react-guidebook//api-reference/react/lazy"><span>React.lazy</span></a></li><li><a aria-current="page" class="active" href="/react-guidebook//api-reference/react/suspense"><span>React.Suspense</span></a></li><li><a href="/react-guidebook//api-reference/react/force-update"><span>component.forceUpdate</span></a></li></ul></li><li><a href="/react-guidebook//api-reference/react-dom">ReactDOM</a><ul><li><a href="/react-guidebook//api-reference/react-dom/render"><span>ReactDOM.render</span></a></li><li><a href="/react-guidebook//api-reference/react-dom/hydrate"><span>ReactDOM.hydrate</span></a></li><li><a href="/react-guidebook//api-reference/react-dom/unmount-component-at-node"><span>ReactDOM.componentAtNode</span></a></li><li><a href="/react-guidebook//api-reference/react-dom/find-dom-node"><span>ReactDOM.findDOMNode</span></a></li><li><a href="/react-guidebook//api-reference/react-dom/create-portal"><span>ReactDOM.createPortal</span></a></li></ul></li><li><a href="/react-guidebook//api-reference/react-dom-server">ReactDOMServer</a><ul><li><a href="/react-guidebook//api-reference/react-dom-server/render-to-string"><span>ReactDOMServer.renderToString</span></a></li><li><a href="/react-guidebook//api-reference/react-dom-server/render-to-static-markup"><span>ReactDOMServer.renderToStaticMarkup</span></a></li><li><a href="/react-guidebook//api-reference/react-dom-server/render-to-node-stream"><span>ReactDOMServer.renderToNodeStream</span></a></li><li><a href="/react-guidebook//api-reference/react-dom-server/render-to-static-node-stream"><span>ReactDOMServer.renderToStaticNodeStream</span></a></li></ul></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"><li title="ä½¿ç”¨æŒ‡å—" data-depth="2" class=""><a href="/react-guidebook//api-reference/react/suspense#ä½¿ç”¨æŒ‡å—"><span>ä½¿ç”¨æŒ‡å—</span></a></li><li title="å»ºè®¾åˆè¡·" data-depth="2" class=""><a href="/react-guidebook//api-reference/react/suspense#å»ºè®¾åˆè¡·"><span>å»ºè®¾åˆè¡·</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="reactsuspense"><a aria-hidden="true" href="#reactsuspense"><span class="icon icon-link"></span></a>React.Suspense</h1><p><code>React.Suspense</code> æ˜¯ä¸€ç§è™šæ‹Ÿç»„ä»¶ï¼ˆç±»ä¼¼äº Fragmentï¼Œä»…ç”¨ä½œç±»å‹æ ‡è¯†ï¼‰ã€‚æ˜¯ç»„ä»¶åœ¨ä»ç¼“å­˜åŠ è½½æ•°æ®æ—¶æš‚åœæ¸²æŸ“çš„é€šç”¨æ–¹æ³•ï¼Œè§£å†³äº†å½“æ¸²æŸ“æ˜¯ I/O ç»‘å®šæ—¶çš„é—®é¢˜ã€‚</p><p>Suspense æ˜¯ä¸€ä¸ªå»¶è¿Ÿå‡½æ•°æ‰€å¿…é¡»çš„ç»„ä»¶ï¼Œé€šå¸¸ç”¨æ¥åŒ…è£¹ä½å»¶è¿ŸåŠ è½½ç»„ä»¶ã€‚å¤šä¸ªå»¶è¿ŸåŠ è½½çš„ç»„ä»¶å¯è¢«åŒ…åœ¨ä¸€ä¸ª suspense ç»„ä»¶ä¸­ã€‚å®ƒä¹Ÿæä¾›äº†ä¸€ä¸ª <code>fallback</code> å±æ€§ï¼Œç”¨æ¥åœ¨ç»„ä»¶çš„å»¶è¿ŸåŠ è½½è¿‡ç¨‹ä¸­æ˜¾å¼æŸäº› React å…ƒç´ ã€‚</p><h2 id="ä½¿ç”¨æŒ‡å—"><a aria-hidden="true" href="#ä½¿ç”¨æŒ‡å—"><span class="icon icon-link"></span></a>ä½¿ç”¨æŒ‡å—</h2><p>ğŸŒ° <strong>ç¤ºä¾‹ï¼š</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// This component is loaded dynamically
const OtherComponent = React.lazy(() =&gt; import(&#x27;./OtherComponent&#x27;));

function MyComponent() {
  return (
    // Displays &lt;Spinner&gt; until OtherComponent loads
    &lt;React.Suspense fallback={&lt;div&gt;loading...&lt;/div&gt;}&gt;
      &lt;div&gt;
        &lt;OtherComponent /&gt;
      &lt;/div&gt;
    &lt;/React.Suspense&gt;
  );
}
" data-status="copy"></button><div class="token-line"><span class="token comment">// This component is loaded dynamically</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> </span><span class="token maybe-class-name">OtherComponent</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token keyword module">import</span><span class="token punctuation">(</span><span class="token string">&#x27;./OtherComponent&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function maybe-class-name">MyComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// Displays &lt;Spinner&gt; until OtherComponent loads</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token operator">&lt;</span><span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access maybe-class-name">Suspense</span><span class="token plain"> fallback</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token plain">loading</span><span class="token spread operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token operator">&lt;</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token maybe-class-name">OtherComponent</span><span class="token plain"> </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access maybe-class-name">Suspense</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p><code>&lt;Suspense&gt;</code> å­å­™ç»„ä»¶åŠ è½½ä¸­è¿˜æ²¡è¿”å›çš„ <code>&lt;Lazy&gt;</code> ç»„ä»¶ï¼Œå°±è¿”å› <code>fallback</code> æŒ‡å®šçš„å†…å®¹ã€‚</p><p><code>&lt;Suspense&gt;</code> ç»„ä»¶å¯ä»¥æ”¾åœ¨ï¼ˆç»„ä»¶æ ‘ä¸­ï¼‰Lazy ç»„ä»¶ä¸Šæ–¹çš„äººä»¥ä½ç½®ï¼Œå¹¶ä¸”ä¸‹æ–¹å¯ä»¥æœ‰å¤šä¸ª <code>&lt;Lazy&gt;</code> ç»„ä»¶ã€‚</p><p>å¯¹åº”åˆ° loading åœºæ™¯ï¼Œå°±æ˜¯è¿™ä¸¤ç§èƒ½åŠ›ï¼š</p><ul><li>æ”¯æŒ loading æå‡</li><li>æ”¯æŒ loading èšåˆ</li></ul><p>âš ï¸ <strong>æ³¨æ„ï¼š</strong>æ²¡è¢« <code>&lt;Suspense&gt;</code> åŒ…è£¹çš„ <code>&lt;Lazy&gt;</code> ç»„ä»¶ä¼šæŠ¥é”™</p><h2 id="å»ºè®¾åˆè¡·"><a aria-hidden="true" href="#å»ºè®¾åˆè¡·"><span class="icon icon-link"></span></a>å»ºè®¾åˆè¡·</h2><p>åˆè¡·æ˜¯ä¸º loading åœºæ™¯æä¾›ä¼˜é›…çš„é€šç”¨è§£å†³æ–¹æ¡ˆï¼Œå…è®¸ç»„ä»¶æ ‘æŒ‚èµ·ç­‰å¾…ï¼ˆå³å»¶è¿Ÿæ¸²æŸ“ï¼‰å¼‚æ­¥æ•°æ®ï¼Œæ„ä¹‰åœ¨äºï¼š</p><ul><li>ç¬¦åˆæœ€ä½³ç”¨æˆ·ä½“éªŒï¼š<ul><li>é¿å…å¸ƒå±€æŠ–åŠ¨ï¼ˆæ•°æ®å›æ¥ä¹‹åå†’å‡ºæ¥ä¸€å—å†…å®¹ï¼‰ï¼Œå½“ç„¶ï¼Œè¿™æ˜¯åŠ  loading æˆ– skeletonï¼ˆéª¨æ¶å±ï¼‰çš„å¥½å¤„ï¼Œä¸ Suspense å…³ç³»ä¸å¾ˆå¤§</li><li>åŒºåˆ«å¯¹å¾…ä¸åŒç½‘ç»œç¯å¢ƒï¼ˆæ•°æ®è¿”å›å¿«çš„è¯å‹æ ¹ä¸ä¼šå‡ºç° loadingï¼‰</li></ul></li><li>ä¼˜é›…ï¼šä¸ç”¨å†ä¸ºäº†åŠ å­æ ‘ loading è€Œæå‡ç›¸å…³çŠ¶æ€å’Œé€»è¾‘ï¼Œä»çŠ¶æ€æå‡ä¸ç»„ä»¶å°è£…æ€§çš„æŠ‘éƒä¸­è§£è„±äº†</li><li>çµæ´»ï¼šloading ç»„ä»¶ä¸å¼‚æ­¥ç»„ä»¶ï¼ˆä¾èµ–å¼‚æ­¥æ•°æ®çš„ç»„ä»¶ï¼‰ä¹‹é—´æ²¡æœ‰ç»„ä»¶å±‚çº§å…³ç³»ä¸Šçš„å¼ºå…³è”ï¼Œèƒ½å¤Ÿçµæ´»æ§åˆ¶ loading ç²’åº¦</li><li>é€šç”¨ï¼šæ”¯æŒç­‰å¾…å¼‚æ­¥æ•°æ®æ—¶æ˜¾ç¤ºé™çº§ç»„ä»¶ï¼ˆloading åªæ˜¯ä¸€ç§æœ€å¸¸è§çš„é™çº§ç­–ç•¥ï¼Œ<code>fallback</code> åˆ°ç¼“å­˜æ•°æ®ç”šè‡³å¹¿å‘Šä¹Ÿä¸æ˜¯ä¸å¯ä»¥ï¼‰</li></ul><hr/><p><strong>å‚è€ƒèµ„æ–™ï¼š</strong></p><ul><li><a href="http://www.ayqy.net/blog/react-suspense/" target="_blank" rel="noopener noreferrer">ğŸ“ React Suspense<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://juejin.im/post/5c7d4a785188251b921f4e26" target="_blank" rel="noopener noreferrer">ğŸ“ æ·±åº¦ç†è§£ Suspense<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://zhuanlan.zhihu.com/p/34210780" target="_blank" rel="noopener noreferrer">ğŸ“ Reactï¼šSuspense çš„å®ç°ä¸æ¢è®¨<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/React-GuideBook/edit/master/docs/api-reference/react/suspense.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last Update: ">9/1/2020, 6:20:53 AM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/react-guidebook/umi.js"></script>
    <script src="/react-guidebook/docs__api-reference__react__suspense.md.js"></script>
  </body>
</html>
