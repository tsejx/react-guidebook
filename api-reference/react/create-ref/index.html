<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/react-guidebook/umi.css" />
    <script>
      window.routerBase = "/react-guidebook/";
    </script>
    <script>
      //! umi version: 3.2.19
    </script>
    <title>React.createRef</title>
  
</head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/react-guidebook-favicon.png&#x27;)" href="/react-guidebook//">React Guidebook</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a href="/react-guidebook//foundation">åŸºç¡€</a><a href="/react-guidebook//architect">æ¶æ„</a><a href="/react-guidebook//ecosystem">ç”Ÿæ€</a><a aria-current="page" class="active" href="/react-guidebook//api-reference">API</a><a href="/react-guidebook//hooks">Hooks</a><a href="/react-guidebook//extensions">æ‰©å±•</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/react-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/react-guidebook-favicon.png&#x27;)" href="/react-guidebook//"></a><h1>React Guidebook</h1><p>React å®Œå…¨çŸ¥è¯†ä½“ç³»</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a href="/react-guidebook//foundation">åŸºç¡€</a></li><li><a href="/react-guidebook//architect">æ¶æ„</a></li><li><a href="/react-guidebook//ecosystem">ç”Ÿæ€</a></li><li><a aria-current="page" class="active" href="/react-guidebook//api-reference">API</a></li><li><a href="/react-guidebook//hooks">Hooks</a></li><li><a href="/react-guidebook//extensions">æ‰©å±•</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/react-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a aria-current="page" class="active" href="/react-guidebook//api-reference/react">React</a><ul><li><a href="/react-guidebook//api-reference/react/pure-component"><span>React.PureComponent</span></a></li><li><a href="/react-guidebook//api-reference/react/memo"><span>React.memo</span></a></li><li><a href="/react-guidebook//api-reference/react/create-element"><span>React.createElement</span></a></li><li><a href="/react-guidebook//api-reference/react/clone-element"><span>React.cloneElement</span></a></li><li><a href="/react-guidebook//api-reference/react/is-valid-element"><span>React.isValidElement</span></a></li><li><a href="/react-guidebook//api-reference/react/children"><span>React.children</span></a></li><li><a href="/react-guidebook//api-reference/react/fragment"><span>React.Fragment</span></a></li><li><a aria-current="page" class="active" href="/react-guidebook//api-reference/react/create-ref"><span>React.createRef</span></a></li><li><a href="/react-guidebook//api-reference/react/forward-ref"><span>React.forwardRef</span></a></li><li><a href="/react-guidebook//api-reference/react/lazy"><span>React.lazy</span></a></li><li><a href="/react-guidebook//api-reference/react/suspense"><span>React.Suspense</span></a></li><li><a href="/react-guidebook//api-reference/react/force-update"><span>component.forceUpdate</span></a></li></ul></li><li><a href="/react-guidebook//api-reference/react-dom">ReactDOM</a><ul><li><a href="/react-guidebook//api-reference/react-dom/render"><span>ReactDOM.render</span></a></li><li><a href="/react-guidebook//api-reference/react-dom/hydrate"><span>ReactDOM.hydrate</span></a></li><li><a href="/react-guidebook//api-reference/react-dom/unmount-component-at-node"><span>ReactDOM.componentAtNode</span></a></li><li><a href="/react-guidebook//api-reference/react-dom/find-dom-node"><span>ReactDOM.findDOMNode</span></a></li><li><a href="/react-guidebook//api-reference/react-dom/create-portal"><span>ReactDOM.createPortal</span></a></li></ul></li><li><a href="/react-guidebook//api-reference/react-dom-server">ReactDOMServer</a><ul><li><a href="/react-guidebook//api-reference/react-dom-server/render-to-string"><span>ReactDOMServer.renderToString</span></a></li><li><a href="/react-guidebook//api-reference/react-dom-server/render-to-static-markup"><span>ReactDOMServer.renderToStaticMarkup</span></a></li><li><a href="/react-guidebook//api-reference/react-dom-server/render-to-node-stream"><span>ReactDOMServer.renderToNodeStream</span></a></li><li><a href="/react-guidebook//api-reference/react-dom-server/render-to-static-node-stream"><span>ReactDOMServer.renderToStaticNodeStream</span></a></li></ul></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"><li title="åŸç†åˆ†æ" data-depth="2" class=""><a href="/react-guidebook//api-reference/react/create-ref#åŸç†åˆ†æ"><span>åŸç†åˆ†æ</span></a></li><li title="æºç è§£æ" data-depth="2" class=""><a href="/react-guidebook//api-reference/react/create-ref#æºç è§£æ"><span>æºç è§£æ</span></a></li><li title="ä¸ useRef å¯¹æ¯”" data-depth="2" class=""><a href="/react-guidebook//api-reference/react/create-ref#ä¸-useref-å¯¹æ¯”"><span>ä¸ useRef å¯¹æ¯”</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="reactcreateref"><a aria-hidden="true" href="#reactcreateref"><span class="icon icon-link"></span></a>React.createRef</h1><p>CreateRef API çš„ä½œç”¨æ˜¯åˆ›å»ºä¸€ä¸ª <code>ref</code> å¯¹è±¡ã€‚å…ˆæŠŠ <code>createRef</code> çš„æ‰§è¡Œç»“æœè¿”å›ç»™ä¸€ä¸ªå®ä¾‹å±æ€§ï¼Œç„¶åé€šè¿‡è¯¥å®ä¾‹å±æ€§è·å¾— DOM å…ƒç´ çš„å¼•ç”¨ã€‚</p><p>ğŸŒ° <strong>ç¤ºä¾‹ï¼š</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-jsx"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="import React from &#x27;react&#x27;;

class MyComponent extends React.Component {
  constructor(props) {
    super(props);
    // åˆ›å»º ref å­˜å‚¨ inputRef DOM å…ƒç´ 
    this.inputRef = React.createRef();
  }
  componentDidMount() {
    // æ³¨æ„ï¼šé€šè¿‡ current å–å¾— DOM èŠ‚ç‚¹
    // ç›´æ¥ä½¿ç”¨åŸç”Ÿ API ä½¿ input è¾“å…¥æ¡†è·å¾—ç„¦ç‚¹
    this.inputRef.current.focus();
  }
  render() {
    // æŠŠ &lt;input /&gt; ref å…³è”åˆ°æ„é€ å™¨ä¸­åˆ›å»ºçš„ inputRef ä¸Š
    return &lt;input type=&quot;text&quot; ref={this.inputRef} /&gt;;
  }
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">import</span><span class="token plain"> React </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">MyComponent</span><span class="token plain"> </span><span class="token keyword">extends</span><span class="token plain"> </span><span class="token class-name">React</span><span class="token class-name punctuation">.</span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">super</span><span class="token punctuation">(</span><span class="token plain">props</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// åˆ›å»º ref å­˜å‚¨ inputRef DOM å…ƒç´ </span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token plain">inputRef </span><span class="token operator">=</span><span class="token plain"> React</span><span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// æ³¨æ„ï¼šé€šè¿‡ current å–å¾— DOM èŠ‚ç‚¹</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// ç›´æ¥ä½¿ç”¨åŸç”Ÿ API ä½¿ input è¾“å…¥æ¡†è·å¾—ç„¦ç‚¹</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token plain">inputRef</span><span class="token punctuation">.</span><span class="token plain">current</span><span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// æŠŠ &lt;input /&gt; ref å…³è”åˆ°æ„é€ å™¨ä¸­åˆ›å»ºçš„ inputRef ä¸Š</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token tag punctuation">&lt;</span><span class="token tag">input</span><span class="token tag"> </span><span class="token tag attr-name">type</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">text</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"> </span><span class="token tag attr-name">ref</span><span class="token tag script language-javascript script-punctuation punctuation">=</span><span class="token tag script language-javascript punctuation">{</span><span class="token tag script language-javascript keyword">this</span><span class="token tag script language-javascript punctuation">.</span><span class="token tag script language-javascript">inputRef</span><span class="token tag script language-javascript punctuation">}</span><span class="token tag"> </span><span class="token tag punctuation">/&gt;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>ä½¿ç”¨ <code>React.createRef()</code> ç»™ç»„ä»¶åˆ›å»ºäº† Refs å¯¹è±¡ã€‚åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œ<code>ref</code> è¢«å‘½å <code>inputRef</code>ï¼Œç„¶åå°†å…¶é™„åŠ åˆ° <code>&lt;input&gt;</code> DOM å…ƒç´ ã€‚</p><p>å…¶ä¸­ <code>inputRef</code> çš„å±æ€§ <code>current</code> æŒ‡çš„æ˜¯å½“å‰é™„åŠ åˆ° <code>ref</code> çš„å…ƒç´ ï¼Œå¹¶å¹¿æ³›ç”¨äºè®¿é—®å’Œä¿®æ”¹æˆ‘ä»¬çš„é™„åŠ å…ƒç´ ã€‚äº‹å®ä¸Šï¼Œå¦‚æœæˆ‘ä»¬é€šè¿‡ç™»å½•æ§åˆ¶å°è¿›ä¸€æ­¥æ‰©å±•æˆ‘ä»¬çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°è¯¥ <code>current</code> å±æ€§ç¡®å®æ˜¯å”¯ä¸€å¯ç”¨çš„å±æ€§ï¼š</p><div class="__dumi-default-code-block"><pre class="prism-code language-jsx"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="componentDidMount = () =&gt; {
  // inputRef ä»…ä»…æœ‰ä¸€ä¸ª current å±æ€§
  console.log(this.inputRef);
  // inputRef.current
  console.log(this.inputRef.current);
  // component æ¸²æŸ“å®Œæˆåï¼Œä½¿ input è¾“å…¥æ¡†è·å¾—ç„¦ç‚¹
  this.inputRef.current.focus();
};
" data-status="copy"></button><div class="token-line"><span class="token function-variable function">componentDidMount</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// inputRef ä»…ä»…æœ‰ä¸€ä¸ª current å±æ€§</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token plain">inputRef</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// inputRef.current</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token plain">inputRef</span><span class="token punctuation">.</span><span class="token plain">current</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// component æ¸²æŸ“å®Œæˆåï¼Œä½¿ input è¾“å…¥æ¡†è·å¾—ç„¦ç‚¹</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token plain">inputRef</span><span class="token punctuation">.</span><span class="token plain">current</span><span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>åœ¨ <code>componentDidMount</code> ç”Ÿå‘½å‘¨æœŸé˜¶æ®µï¼Œ<code>this.inputRef.current</code> å°†æŒ‰é¢„æœŸåˆ†é…ç»™ <code>&lt;&gt;</code> å…ƒç´ ï¼›<code>componentDidMount</code> é€šå¸¸æ˜¯ä½¿ç”¨ Refs å¤„ç†ä¸€äº›åˆå§‹è®¾ç½®çš„å®‰å…¨ä½ç½®ã€‚</p><ul><li><code>createRef</code> åˆå§‹åŒ–åŠ¨ä½œè¦åœ¨ç»„ä»¶æŒ‚è½½ä¹‹å‰ï¼Œå¦‚æœæ˜¯æŒ‚è½½ä¹‹ååˆå§‹åŒ–ï¼Œåˆ™æ— æ³•å¾—åˆ° DOM å…ƒç´ çš„å¼•ç”¨</li><li>çœŸæ­£çš„ DOM å…ƒç´ å¼•ç”¨åœ¨ <code>current</code> å±æ€§ä¸Š</li></ul><h2 id="åŸç†åˆ†æ"><a aria-hidden="true" href="#åŸç†åˆ†æ"><span class="icon icon-link"></span></a>åŸç†åˆ†æ</h2><p>ğŸ“Œ å‡ºäºä¸å¯æè¿°çš„åŸå› ï¼Œå¦‚æœä½ æƒ³è·å–ä¸€ä¸ªå­ç»„ä»¶çš„ <code>ref</code> å¼•ç”¨ï¼Œé‚£ä¹ˆå­ç»„ä»¶å¿…é¡»æ˜¯ Class ç»„ä»¶ã€‚</p><p>å› ä¸ºä½ è·å–çš„å®é™…ä¸Šæ˜¯å­ç»„ä»¶çš„ <strong>å®ä¾‹</strong>ï¼Œè€Œå‡½æ•°å¼ç»„ä»¶æ˜¯æ²¡æœ‰å®ä¾‹çš„ã€‚</p><p>æ‰€æœ‰è·å– <code>ref</code> å¼•ç”¨çš„æ–¹å¼ï¼Œå¦‚æœæƒ³è¦è·å–å­ç»„ä»¶è€Œä¸æ˜¯ DOM å…ƒç´ ï¼Œå­ç»„ä»¶éƒ½ä¸èƒ½æ˜¯å‡½æ•°å¼ç»„ä»¶ã€‚</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="import React, { Component, createRef } from &#x27;react&#x27;;
import Child from &#x27;./Child&#x27;;

class App extends Component {
  childRef = createRef();

  render() {
    return &lt;Child ref={this.childRef} /&gt;;
  }
}

export default App;
" data-status="copy"></button><div class="token-line"><span class="token keyword module">import</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token maybe-class-name">Component</span><span class="token punctuation">,</span><span class="token plain"> createRef </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword module">from</span><span class="token plain"> </span><span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword module">import</span><span class="token plain"> </span><span class="token maybe-class-name">Child</span><span class="token plain"> </span><span class="token keyword module">from</span><span class="token plain"> </span><span class="token string">&#x27;./Child&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">App</span><span class="token plain"> </span><span class="token keyword">extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  childRef </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token maybe-class-name">Child</span><span class="token plain"> ref</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">childRef</span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword module">export</span><span class="token plain"> </span><span class="token keyword module">default</span><span class="token plain"> </span><span class="token maybe-class-name">App</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="æºç è§£æ"><a aria-hidden="true" href="#æºç è§£æ"><span class="icon icon-link"></span></a>æºç è§£æ</h2><div class="__dumi-default-code-block"><pre class="prism-code language-tsx"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="import type { RefObject } from &#x27;shared/ReactTypes&#x27;;

export function createRef(): RefObject {
  const refObject = {
    current: null,
  };
  if (__DEV__) {
    // å°é—­å¯¹è±¡ï¼Œé˜»æ­¢æ·»åŠ æ–°å±æ€§å¹¶å°†æ‰€æœ‰ç°æœ‰ property æ ‡è®°ä¸ºä¸å¯é…ç½®ï¼Œå½“å‰å±æ€§å€¼åªè¦å¯å†™å°±å¯ä»¥æ”¹å˜
    Object.seal(refObject);
  }
  return refObject;
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">import</span><span class="token plain"> </span><span class="token keyword">type</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token maybe-class-name">RefObject</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;shared/ReactTypes&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">export</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">RefObject</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> refObject </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    current</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">__DEV__</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// å°é—­å¯¹è±¡ï¼Œé˜»æ­¢æ·»åŠ æ–°å±æ€§å¹¶å°†æ‰€æœ‰ç°æœ‰ property æ ‡è®°ä¸ºä¸å¯é…ç½®ï¼Œå½“å‰å±æ€§å€¼åªè¦å¯å†™å°±å¯ä»¥æ”¹å˜</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token function">seal</span><span class="token punctuation">(</span><span class="token plain">refObject</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> refObject</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="ä¸-useref-å¯¹æ¯”"><a aria-hidden="true" href="#ä¸-useref-å¯¹æ¯”"><span class="icon icon-link"></span></a>ä¸ useRef å¯¹æ¯”</h2><p><code>useRef</code> è¿”å›ä¸€ä¸ªå¯å˜çš„ <code>ref</code> å¯¹è±¡ï¼Œå…¶ <code>.current</code> å±æ€§è¢«åˆå§‹åŒ–ä¸ºä¼ å…¥çš„å€¼ã€‚è¿”å›çš„ <code>ref</code> å¯¹è±¡åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ä¿æŒä¸å˜ã€‚</p><div class="__dumi-default-code-block"><pre class="prism-code language-jsx"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function Hello() {
  const textRef = useRef(null);

  const onButtonClick = () =&gt; {
    textRef.current.focus();
  };

  return (
    &lt;&gt;
      &lt;input ref={textRef} type=&quot;text&quot; /&gt;
      &lt;button onClick={onButtonClick}&gt;Focus the input&lt;/button&gt;
    &lt;/&gt;
  );
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">Hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> textRef </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> </span><span class="token function-variable function">onButtonClick</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    textRef</span><span class="token punctuation">.</span><span class="token plain">current</span><span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token tag punctuation">&lt;</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token tag punctuation">&lt;</span><span class="token tag">input</span><span class="token tag"> </span><span class="token tag attr-name">ref</span><span class="token tag script language-javascript script-punctuation punctuation">=</span><span class="token tag script language-javascript punctuation">{</span><span class="token tag script language-javascript">textRef</span><span class="token tag script language-javascript punctuation">}</span><span class="token tag"> </span><span class="token tag attr-name">type</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">text</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"> </span><span class="token tag punctuation">/&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token tag punctuation">&lt;</span><span class="token tag">button</span><span class="token tag"> </span><span class="token tag attr-name">onClick</span><span class="token tag script language-javascript script-punctuation punctuation">=</span><span class="token tag script language-javascript punctuation">{</span><span class="token tag script language-javascript">onButtonClick</span><span class="token tag script language-javascript punctuation">}</span><span class="token tag punctuation">&gt;</span><span class="token plain">Focus the input</span><span class="token tag punctuation">&lt;/</span><span class="token tag">button</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token tag punctuation">&lt;/</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p><strong>åŒºåˆ«</strong></p><p><code>useRef</code> æ¯” <code>ref</code> å±æ€§æ›´æœ‰ç”¨ã€‚<code>useRef</code> Hook ä¸ä»…å¯ä»¥ç”¨äº DOM refsï¼Œ<code>useRef</code> åˆ›å»ºçš„ <code>ref</code> å¯¹è±¡æ˜¯ä¸€ä¸ª <code>current</code> å±æ€§å¯å˜ä¸”å¯ä»¥å®¹çº³ä»»æ„å€¼çš„é€šç”¨å®¹å™¨ï¼Œç±»ä¼¼äºä¸€ä¸ª class çš„å®ä¾‹å±æ€§ã€‚</p><div class="__dumi-default-code-block"><pre class="prism-code language-jsx"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function Timer() {
  const interval = useRef();

  useEffect(() =&gt; {
    const id = setInterval(() =&gt; {})

    intervaRef.current = id;

    return () =&gt; {
      clearInterval(intervaRef.current);
    }
  })
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">Timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> interval </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">const</span><span class="token plain"> id </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">    intervaRef</span><span class="token punctuation">.</span><span class="token plain">current </span><span class="token operator">=</span><span class="token plain"> id</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token plain">intervaRef</span><span class="token punctuation">.</span><span class="token plain">current</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>è¿™æ˜¯å› ä¸ºå®ƒåˆ›å»ºçš„æ˜¯ä¸€ä¸ªæ™®é€š Javascript å¯¹è±¡ã€‚è€Œ <code>useRef()</code> å’Œè‡ªå»ºä¸€ä¸ª <code>{<!-- -->current: ...<!-- -->}</code> å¯¹è±¡çš„å”¯ä¸€åŒºåˆ«æ˜¯ï¼ŒuseRef ä¼šåœ¨æ¯æ¬¡æ¸²æŸ“æ—¶è¿”å›åŒä¸€ä¸ª <code>ref</code> å¯¹è±¡ã€‚</p><p>è¯·è®°ä½ï¼Œå½“ <code>ref</code> å¯¹è±¡å†…å®¹å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒuseRef å¹¶ä¸ä¼šé€šçŸ¥ä½ ã€‚å˜æ›´ .current å±æ€§ä¸ä¼šå¼•å‘ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚å¦‚æœæƒ³è¦åœ¨ React ç»‘å®šæˆ–è§£ç»‘ DOM èŠ‚ç‚¹çš„ <code>ref</code> æ—¶è¿è¡ŒæŸäº›ä»£ç ï¼Œåˆ™éœ€è¦ä½¿ç”¨å›è°ƒ <code>ref</code> æ¥å®ç°ã€‚</p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/React-GuideBook/edit/master/docs/api-reference/react/create-ref.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last Update: ">9/1/2020, 6:20:53 AM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/react-guidebook/umi.js"></script>
    <script src="/react-guidebook/docs__api-reference__react__create-ref.md.js"></script>
  </body>
</html>
