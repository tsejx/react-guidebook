<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/react-guidebook/umi.css" />
    <script>
      window.routerBase = "/react-guidebook/";
    </script>
    <script>
      //! umi version: 3.2.19
    </script>
    <title>Profiler</title>
  
</head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/react-guidebook-favicon.png&#x27;)" href="/react-guidebook//">React Guidebook</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a aria-current="page" class="active" href="/react-guidebook//foundation">åŸºç¡€</a><a href="/react-guidebook//architect">æ¶æ„</a><a href="/react-guidebook//ecosystem">ç”Ÿæ€</a><a href="/react-guidebook//api-reference">API</a><a href="/react-guidebook//hooks">Hooks</a><a href="/react-guidebook//extensions">Extensions</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/react-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/react-guidebook-favicon.png&#x27;)" href="/react-guidebook//"></a><h1>React Guidebook</h1><p>React å®Œå…¨çŸ¥è¯†ä½“ç³»</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a aria-current="page" class="active" href="/react-guidebook//foundation">åŸºç¡€</a></li><li><a href="/react-guidebook//architect">æ¶æ„</a></li><li><a href="/react-guidebook//ecosystem">ç”Ÿæ€</a></li><li><a href="/react-guidebook//api-reference">API</a></li><li><a href="/react-guidebook//hooks">Hooks</a></li><li><a href="/react-guidebook//extensions">Extensions</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/react-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a href="/react-guidebook//foundation/main-concepts">åŸºç¡€æ¦‚å¿µ</a><ul><li><a href="/react-guidebook//foundation/main-concepts/overview"><span>ç‰¹æ€§</span></a></li><li><a href="/react-guidebook//foundation/main-concepts/jsx"><span>JSX</span></a></li><li><a href="/react-guidebook//foundation/main-concepts/state"><span>State</span></a></li><li><a href="/react-guidebook//foundation/main-concepts/props"><span>Props</span></a></li><li><a href="/react-guidebook//foundation/main-concepts/component"><span>ç»„ä»¶åŒ–</span></a></li><li><a href="/react-guidebook//foundation/main-concepts/lifecycle"><span>ç”Ÿå‘½å‘¨æœŸ</span></a></li><li><a href="/react-guidebook//foundation/main-concepts/react-dom"><span>ç»„ä»¶æŒ‚è½½å™¨</span></a></li></ul></li><li><a aria-current="page" class="active" href="/react-guidebook//foundation/advanced-guides">è¿›é˜¶æŒ‡å¼•</a><ul><li><a href="/react-guidebook//foundation/advanced-guides/render"><span>render</span></a></li><li><a href="/react-guidebook//foundation/advanced-guides/set-state"><span>setState</span></a></li><li><a href="/react-guidebook//foundation/advanced-guides/handling-events"><span>äº‹ä»¶æœºåˆ¶</span></a></li><li><a href="/react-guidebook//foundation/advanced-guides/high-order-component"><span>é«˜é˜¶ç»„ä»¶</span></a></li><li><a href="/react-guidebook//foundation/advanced-guides/render-props"><span>Render Props</span></a></li><li><a href="/react-guidebook//foundation/advanced-guides/refs"><span>Refs</span></a></li><li><a href="/react-guidebook//foundation/advanced-guides/context"><span>Context</span></a></li><li><a href="/react-guidebook//foundation/advanced-guides/portals"><span>Portals</span></a></li><li><a aria-current="page" class="active" href="/react-guidebook//foundation/advanced-guides/profiler"><span>Profiler</span></a></li><li><a href="/react-guidebook//foundation/advanced-guides/error-boundaries"><span>é”™è¯¯è¾¹ç•Œ</span></a></li></ul></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"><li title="ä½¿ç”¨æ–¹æ³•" data-depth="2" class=""><a href="/react-guidebook//foundation/advanced-guides/profiler#ä½¿ç”¨æ–¹æ³•"><span>ä½¿ç”¨æ–¹æ³•</span></a></li><li title="onRender å›è°ƒ" data-depth="2" class=""><a href="/react-guidebook//foundation/advanced-guides/profiler#onrender-å›è°ƒ"><span>onRender å›è°ƒ</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="profiler"><a aria-hidden="true" href="#profiler"><span class="icon icon-link"></span></a>Profiler</h1><blockquote><p>âœ¨ é€‚ç”¨äº React v16.5+</p></blockquote><p>Profiler æµ‹é‡æ¸²æŸ“ä¸€ä¸ª React åº”ç”¨å¤šä¹…æ¸²æŸ“ä¸€æ¬¡ä»¥åŠæ¸²æŸ“ä¸€æ¬¡çš„ã€Œä»£ä»·ã€ã€‚ å®ƒçš„ç›®çš„æ˜¯è¯†åˆ«å‡ºåº”ç”¨ä¸­æ¸²æŸ“è¾ƒæ…¢çš„éƒ¨åˆ†ï¼Œæˆ–æ˜¯å¯ä»¥ä½¿ç”¨ç±»ä¼¼ memoization ä¼˜åŒ–çš„éƒ¨åˆ†ï¼Œå¹¶ä»ç›¸å…³ä¼˜åŒ–ä¸­è·ç›Šã€‚</p><blockquote><p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šProfiling å¢åŠ äº†é¢å¤–çš„å¼€æ”¯ï¼Œæ‰€ä»¥å®ƒåœ¨ç”Ÿäº§æ„å»ºä¸­ä¼šè¢«ç¦ç”¨ã€‚</p></blockquote><h2 id="ä½¿ç”¨æ–¹æ³•"><a aria-hidden="true" href="#ä½¿ç”¨æ–¹æ³•"><span class="icon icon-link"></span></a>ä½¿ç”¨æ–¹æ³•</h2><p><code>&lt;Profiler&gt;</code> èƒ½æ·»åŠ åœ¨ React æ ‘ä¸­çš„ä»»ä½•åœ°æ–¹æ¥æµ‹é‡æ ‘ä¸­è¿™éƒ¨åˆ†æ¸²æŸ“æ‰€å¸¦æ¥çš„å¼€é”€ã€‚å®ƒéœ€è¦ä¸¤ä¸ª <code>props</code>ï¼šä¸€ä¸ªæ˜¯ <code>id</code>ï¼ˆstringï¼‰ï¼Œä¸€ä¸ªæ˜¯å½“ç»„ä»¶æ ‘ä¸­çš„ç»„ä»¶æäº¤æ›´æ–°çš„æ—¶å€™è¢« React è°ƒç”¨çš„å›è°ƒå‡½æ•° <code>onRender</code>ï¼ˆfunctionï¼‰ã€‚</p><p>ğŸŒ° <strong>ç¤ºä¾‹ï¼š</strong> ä¸ºäº†åˆ†æ <code>Navigation</code> ç»„ä»¶åŠå…¶å­ä»£</p><div class="__dumi-default-code-block"><pre class="prism-code language-jsx"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="render(
  &lt;App&gt;
    &lt;Profiler id=&quot;navigation&quot; onRender={callback}&gt;
      &lt;Navigation {...props} /&gt;
    &lt;/Profiler&gt;
  &lt;/App&gt;
);
" data-status="copy"></button><div class="token-line"><span class="token function">render</span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token tag punctuation">&lt;</span><span class="token tag class-name">App</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token tag punctuation">&lt;</span><span class="token tag class-name">Profiler</span><span class="token tag"> </span><span class="token tag attr-name">id</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">navigation</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"> </span><span class="token tag attr-name">onRender</span><span class="token tag script language-javascript script-punctuation punctuation">=</span><span class="token tag script language-javascript punctuation">{</span><span class="token tag script language-javascript">callback</span><span class="token tag script language-javascript punctuation">}</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token tag punctuation">&lt;</span><span class="token tag class-name">Navigation</span><span class="token tag"> </span><span class="token tag spread punctuation">{</span><span class="token tag spread punctuation">...</span><span class="token tag spread attr-value">props</span><span class="token tag spread punctuation">}</span><span class="token tag"> </span><span class="token tag punctuation">/&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token tag punctuation">&lt;/</span><span class="token tag class-name">Profiler</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token tag punctuation">&lt;/</span><span class="token tag class-name">App</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>å¤šä¸ª <code>&lt;Profiler&gt;</code> ç»„ä»¶çˆ±ä½ èƒ½æµ‹é‡åº”ç”¨ä¸­çš„ä¸åŒéƒ¨åˆ†ï¼š</p><div class="__dumi-default-code-block"><pre class="prism-code language-jsx"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="render(
  &lt;App&gt;
    &lt;Profiler id=&quot;navigation&quot; onRender={callback}&gt;
      &lt;Navigation {...props} /&gt;
    &lt;/Profiler&gt;
    &lt;Profiler id=&quot;main&quot; onRender={callback}&gt;
      &lt;Main {...props} /&gt;
    &lt;/Profiler&gt;
  &lt;/App&gt;
);
" data-status="copy"></button><div class="token-line"><span class="token function">render</span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token tag punctuation">&lt;</span><span class="token tag class-name">App</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token tag punctuation">&lt;</span><span class="token tag class-name">Profiler</span><span class="token tag"> </span><span class="token tag attr-name">id</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">navigation</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"> </span><span class="token tag attr-name">onRender</span><span class="token tag script language-javascript script-punctuation punctuation">=</span><span class="token tag script language-javascript punctuation">{</span><span class="token tag script language-javascript">callback</span><span class="token tag script language-javascript punctuation">}</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token tag punctuation">&lt;</span><span class="token tag class-name">Navigation</span><span class="token tag"> </span><span class="token tag spread punctuation">{</span><span class="token tag spread punctuation">...</span><span class="token tag spread attr-value">props</span><span class="token tag spread punctuation">}</span><span class="token tag"> </span><span class="token tag punctuation">/&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token tag punctuation">&lt;/</span><span class="token tag class-name">Profiler</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token tag punctuation">&lt;</span><span class="token tag class-name">Profiler</span><span class="token tag"> </span><span class="token tag attr-name">id</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">main</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"> </span><span class="token tag attr-name">onRender</span><span class="token tag script language-javascript script-punctuation punctuation">=</span><span class="token tag script language-javascript punctuation">{</span><span class="token tag script language-javascript">callback</span><span class="token tag script language-javascript punctuation">}</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token tag punctuation">&lt;</span><span class="token tag class-name">Main</span><span class="token tag"> </span><span class="token tag spread punctuation">{</span><span class="token tag spread punctuation">...</span><span class="token tag spread attr-value">props</span><span class="token tag spread punctuation">}</span><span class="token tag"> </span><span class="token tag punctuation">/&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token tag punctuation">&lt;/</span><span class="token tag class-name">Profiler</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token tag punctuation">&lt;/</span><span class="token tag class-name">App</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>åµŒå¥—ä½¿ç”¨ <code>&lt;Profiler&gt;</code> ç»„ä»¶æ¥æµ‹é‡ç›¸åŒä¸€ä¸ªå­æ ‘ä¸‹çš„ä¸åŒç»„ä»¶ã€‚</p><div class="__dumi-default-code-block"><pre class="prism-code language-jsx"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="render(
  &lt;App&gt;
    &lt;Profiler id=&quot;Panel&quot; onRender={callback}&gt;
      &lt;Panel {...props}&gt;
        &lt;Profiler id=&quot;Content&quot; onRender={callback}&gt;
          &lt;Content {...props} /&gt;
        &lt;/Profiler&gt;
        &lt;Profiler id=&quot;PreviewPane&quot; onRender={callback}&gt;
          &lt;PreviewPane {...props} /&gt;
        &lt;/Profiler&gt;
      &lt;/Panel&gt;
    &lt;/Profiler&gt;
  &lt;/App&gt;
);
" data-status="copy"></button><div class="token-line"><span class="token function">render</span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token tag punctuation">&lt;</span><span class="token tag class-name">App</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token tag punctuation">&lt;</span><span class="token tag class-name">Profiler</span><span class="token tag"> </span><span class="token tag attr-name">id</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">Panel</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"> </span><span class="token tag attr-name">onRender</span><span class="token tag script language-javascript script-punctuation punctuation">=</span><span class="token tag script language-javascript punctuation">{</span><span class="token tag script language-javascript">callback</span><span class="token tag script language-javascript punctuation">}</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token tag punctuation">&lt;</span><span class="token tag class-name">Panel</span><span class="token tag"> </span><span class="token tag spread punctuation">{</span><span class="token tag spread punctuation">...</span><span class="token tag spread attr-value">props</span><span class="token tag spread punctuation">}</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token tag punctuation">&lt;</span><span class="token tag class-name">Profiler</span><span class="token tag"> </span><span class="token tag attr-name">id</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">Content</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"> </span><span class="token tag attr-name">onRender</span><span class="token tag script language-javascript script-punctuation punctuation">=</span><span class="token tag script language-javascript punctuation">{</span><span class="token tag script language-javascript">callback</span><span class="token tag script language-javascript punctuation">}</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          </span><span class="token tag punctuation">&lt;</span><span class="token tag class-name">Content</span><span class="token tag"> </span><span class="token tag spread punctuation">{</span><span class="token tag spread punctuation">...</span><span class="token tag spread attr-value">props</span><span class="token tag spread punctuation">}</span><span class="token tag"> </span><span class="token tag punctuation">/&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token tag punctuation">&lt;/</span><span class="token tag class-name">Profiler</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token tag punctuation">&lt;</span><span class="token tag class-name">Profiler</span><span class="token tag"> </span><span class="token tag attr-name">id</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">PreviewPane</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"> </span><span class="token tag attr-name">onRender</span><span class="token tag script language-javascript script-punctuation punctuation">=</span><span class="token tag script language-javascript punctuation">{</span><span class="token tag script language-javascript">callback</span><span class="token tag script language-javascript punctuation">}</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          </span><span class="token tag punctuation">&lt;</span><span class="token tag class-name">PreviewPane</span><span class="token tag"> </span><span class="token tag spread punctuation">{</span><span class="token tag spread punctuation">...</span><span class="token tag spread attr-value">props</span><span class="token tag spread punctuation">}</span><span class="token tag"> </span><span class="token tag punctuation">/&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token tag punctuation">&lt;/</span><span class="token tag class-name">Profiler</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token tag punctuation">&lt;/</span><span class="token tag class-name">Panel</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token tag punctuation">&lt;/</span><span class="token tag class-name">Profiler</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token tag punctuation">&lt;/</span><span class="token tag class-name">App</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="onrender-å›è°ƒ"><a aria-hidden="true" href="#onrender-å›è°ƒ"><span class="icon icon-link"></span></a>onRender å›è°ƒ</h2><p><code>&lt;Profiler&gt;</code> éœ€è¦ä¸€ä¸ª <code>onRender</code> å‡½æ•°ä½œä¸ºå‚æ•°ã€‚ React ä¼šåœ¨ <code>profile</code> åŒ…å«çš„ç»„ä»¶æ ‘ä¸­ä»»ä½•ç»„ä»¶ ã€Œæäº¤ã€ ä¸€ä¸ªæ›´æ–°çš„æ—¶å€™è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚ å®ƒçš„å‚æ•°æè¿°äº†æ¸²æŸ“äº†ä»€ä¹ˆå’ŒèŠ±è´¹äº†å¤šä¹…ã€‚</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function onRenderCallback(
  id, // å‘ç”Ÿæäº¤çš„ Profiler æ ‘çš„ â€œidâ€
  phase, // &quot;mount&quot; ï¼ˆå¦‚æœç»„ä»¶æ ‘åˆšåŠ è½½ï¼‰ æˆ–è€… &quot;update&quot; ï¼ˆå¦‚æœå®ƒé‡æ¸²æŸ“äº†ï¼‰ä¹‹ä¸€
  actualDuration, // æœ¬æ¬¡æ›´æ–° committed èŠ±è´¹çš„æ¸²æŸ“æ—¶é—´
  baseDuration, // ä¼°è®¡ä¸ä½¿ç”¨ memoization çš„æƒ…å†µä¸‹æ¸²æŸ“æ•´é¢—å­æ ‘éœ€è¦çš„æ—¶é—´
  startTime, // æœ¬æ¬¡æ›´æ–°ä¸­ React å¼€å§‹æ¸²æŸ“çš„æ—¶é—´
  commitTime, // æœ¬æ¬¡æ›´æ–°ä¸­ React committed çš„æ—¶é—´
  interactions // å±äºæœ¬æ¬¡æ›´æ–°çš„ interactions çš„é›†åˆ
) {
  // åˆè®¡æˆ–è®°å½•æ¸²æŸ“æ—¶é—´ã€‚ã€‚ã€‚
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">onRenderCallback</span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  id</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token comment">// å‘ç”Ÿæäº¤çš„ Profiler æ ‘çš„ â€œidâ€</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  phase</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token comment">// &quot;mount&quot; ï¼ˆå¦‚æœç»„ä»¶æ ‘åˆšåŠ è½½ï¼‰ æˆ–è€… &quot;update&quot; ï¼ˆå¦‚æœå®ƒé‡æ¸²æŸ“äº†ï¼‰ä¹‹ä¸€</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  actualDuration</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token comment">// æœ¬æ¬¡æ›´æ–° committed èŠ±è´¹çš„æ¸²æŸ“æ—¶é—´</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  baseDuration</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token comment">// ä¼°è®¡ä¸ä½¿ç”¨ memoization çš„æƒ…å†µä¸‹æ¸²æŸ“æ•´é¢—å­æ ‘éœ€è¦çš„æ—¶é—´</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  startTime</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token comment">// æœ¬æ¬¡æ›´æ–°ä¸­ React å¼€å§‹æ¸²æŸ“çš„æ—¶é—´</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  commitTime</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token comment">// æœ¬æ¬¡æ›´æ–°ä¸­ React committed çš„æ—¶é—´</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  interactions </span><span class="token comment">// å±äºæœ¬æ¬¡æ›´æ–°çš„ interactions çš„é›†åˆ</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// åˆè®¡æˆ–è®°å½•æ¸²æŸ“æ—¶é—´ã€‚ã€‚ã€‚</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ul><li><code>id: string</code> - å‘ç”Ÿæäº¤çš„ Profiler æ ‘çš„ idã€‚ å¦‚æœæœ‰å¤šä¸ª profilerï¼Œå®ƒèƒ½ç”¨æ¥åˆ†è¾¨æ ‘çš„å“ªä¸€éƒ¨åˆ†å‘ç”Ÿäº†â€œæäº¤â€ã€‚</li><li><code>phase: &quot;mount&quot; | &quot;update&quot;</code> - åˆ¤æ–­æ˜¯ç»„ä»¶æ ‘çš„ç¬¬ä¸€æ¬¡è£…è½½å¼•èµ·çš„é‡æ¸²æŸ“ï¼Œè¿˜æ˜¯ç”± propsã€state æˆ–æ˜¯ hooks æ”¹å˜å¼•èµ·çš„é‡æ¸²æŸ“ã€‚</li><li><code>actualDuration: number</code> - æœ¬æ¬¡æ›´æ–°åœ¨æ¸²æŸ“ Profiler å’Œå®ƒçš„å­ä»£ä¸ŠèŠ±è´¹çš„æ—¶é—´ã€‚ è¿™ä¸ªæ•°å€¼è¡¨æ˜ä½¿ç”¨ memoization ä¹‹åèƒ½è¡¨ç°å¾—å¤šå¥½ã€‚ï¼ˆä¾‹å¦‚ React.memoï¼ŒuseMemoï¼ŒshouldComponentUpdateï¼‰ã€‚ ç†æƒ³æƒ…å†µä¸‹ï¼Œç”±äºå­ä»£åªä¼šå› ç‰¹å®šçš„ prop æ”¹å˜è€Œé‡æ¸²æŸ“ï¼Œå› æ­¤è¿™ä¸ªå€¼åº”è¯¥åœ¨ç¬¬ä¸€æ¬¡è£…è½½ä¹‹åæ˜¾è‘—ä¸‹é™ã€‚</li><li><code>baseDuration: number</code> - åœ¨ Profiler æ ‘ä¸­æœ€è¿‘ä¸€æ¬¡æ¯ä¸€ä¸ªç»„ä»¶ render çš„æŒç»­æ—¶é—´ã€‚ è¿™ä¸ªå€¼ä¼°è®¡äº†æœ€å·®çš„æ¸²æŸ“æ—¶é—´ã€‚ï¼ˆä¾‹å¦‚å½“å®ƒæ˜¯ç¬¬ä¸€æ¬¡åŠ è½½æˆ–è€…ç»„ä»¶æ ‘æ²¡æœ‰ä½¿ç”¨ memoizationï¼‰ã€‚</li><li><code>startTime: number</code> - æœ¬æ¬¡æ›´æ–°ä¸­ React å¼€å§‹æ¸²æŸ“çš„æ—¶é—´æˆ³ã€‚</li><li><code>commitTime: number</code> - æœ¬æ¬¡æ›´æ–°ä¸­ React commit é˜¶æ®µç»“æŸçš„æ—¶é—´æˆ³ã€‚ åœ¨ä¸€æ¬¡ commit ä¸­è¿™ä¸ªå€¼åœ¨æ‰€æœ‰çš„ profiler ä¹‹é—´æ˜¯å…±äº«çš„ï¼Œå¯ä»¥å°†å®ƒä»¬æŒ‰éœ€åˆ†ç»„ã€‚</li><li><code>interactions: Set</code> - å½“æ›´æ–°è¢«åˆ¶å®šæ—¶ï¼Œâ€œinteractionsâ€ çš„é›†åˆä¼šè¢«è¿½è¸ªã€‚ï¼ˆä¾‹å¦‚å½“ render æˆ–è€… setState è¢«è°ƒç”¨æ—¶ï¼‰ã€‚</li></ul><blockquote><p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šInteractions èƒ½ç”¨ä¾†è¯†åˆ«æ›´æ–°æ˜¯ç”±ä»€ä¹ˆå¼•èµ·çš„ï¼Œå°½ç®¡è¿™ä¸ªè¿½è¸ªæ›´æ–°çš„ API ä¾ç„¶æ˜¯å®éªŒæ€§è´¨çš„ã€‚ ä» <a href="https://fb.me/react-interaction-tracing" target="_blank" rel="noopener noreferrer">fb.me/react-interaction-tracing<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> äº†è§£æ›´å¤š</p></blockquote><hr/><p><strong>å‚è€ƒèµ„æ–™ï¼š</strong></p><ul><li><a href="https://juejin.im/post/5ba0f8e4f265da0ab915bcf2" target="_blank" rel="noopener noreferrer">React Profiler ä»‹ç»<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://juejin.im/post/5d06bf0a51882528194a9736" target="_blank" rel="noopener noreferrer">React æ€§èƒ½æµ‹é‡å’Œåˆ†æ<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/React-GuideBook/edit/master/docs/foundation/advanced-guides/profiler.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last Update: ">8/31/2020, 7:09:52 PM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/react-guidebook/umi.js"></script>
    <script src="/react-guidebook/docs__foundation__advanced-guides__profiler.md.js"></script>
  </body>
</html>
